<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Kafka è¿ç»´ | BIGDATA-TUTORIAL</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/bigdata-tutorial/favicon.ico">
    <meta name="description" content="å¤§æ•°æ®æ•™ç¨‹">
    
    <link rel="preload" href="/bigdata-tutorial/assets/css/0.styles.eecf7a64.css" as="style"><link rel="preload" href="/bigdata-tutorial/assets/js/app.3ada26ba.js" as="script"><link rel="preload" href="/bigdata-tutorial/assets/js/4.cda5e0f1.js" as="script"><link rel="preload" href="/bigdata-tutorial/assets/js/45.4a1cf2ae.js" as="script"><link rel="preload" href="/bigdata-tutorial/assets/js/5.9d6e4fe2.js" as="script"><link rel="prefetch" href="/bigdata-tutorial/assets/js/10.1ab7bd74.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/11.a42f7604.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/12.7dce2ed8.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/13.1b26207d.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/14.a9835374.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/15.90c66596.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/16.e0471453.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/17.2c0565cb.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/18.fabbce00.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/19.c120a108.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/20.5a4f48af.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/21.d3fce730.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/22.00ac574a.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/23.754595c9.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/24.fc9d31a1.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/25.d4313bcb.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/26.604f045b.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/27.22a239b2.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/28.466b9a71.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/29.2783ebfd.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/30.2ff3250e.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/31.2c64e404.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/32.0ab8b31c.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/33.be38d2dc.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/34.811f6626.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/35.9d9f3847.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/36.32bb3f84.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/37.db182f29.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/38.91a9d6f3.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/39.1148f971.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/40.1536c75c.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/41.31725066.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/42.68e59bdd.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/43.9bac72d5.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/44.a2edd3e0.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/46.d8a80a79.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/47.9621b1a5.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/48.56d4fa14.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/49.d9d143dd.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/50.6e4aa6cd.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/51.55771fda.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/52.ee51188b.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/53.b014e486.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/54.ae66c176.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/55.2ea9bfd9.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/56.ffb4a04b.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/57.bdee2f7e.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/58.982c2219.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/59.c006237e.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/6.3bb0b816.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/60.b27dc3c8.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/7.d55602d2.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/8.89e9ace9.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/9.0c40eb95.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/vendors~flowchart.5998caa6.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/vendors~notification.943e54fe.js">
    <link rel="stylesheet" href="/bigdata-tutorial/assets/css/0.styles.eecf7a64.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/bigdata-tutorial/" class="home-link router-link-active"><img src="https://raw.githubusercontent.com/dunwu/images/dev/common/dunwu-logo-200.png" alt="BIGDATA-TUTORIAL" class="logo"> <span class="site-name can-hide">BIGDATA-TUTORIAL</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/bigdata-tutorial/hive/" class="nav-link">
  Hive
</a></div><div class="nav-item"><a href="/bigdata-tutorial/hdfs/" class="nav-link">
  Hdfs
</a></div><div class="nav-item"><a href="/bigdata-tutorial/hbase/" class="nav-link">
  Hbase
</a></div><div class="nav-item"><a href="/bigdata-tutorial/zookeeper/" class="nav-link">
  ZooKeeper
</a></div><div class="nav-item"><a href="/bigdata-tutorial/kafka/" class="nav-link router-link-active">
  Kafka
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><span class="title">âœ¨ Javaç³»åˆ—</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java" class="mobile-dropdown-title"><span class="title">âœ¨ Javaç³»åˆ—</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://dunwu.github.io/java-tutorial/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Java æ•™ç¨‹ ğŸ“š
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://dunwu.github.io/javacore/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JavaCore æ•™ç¨‹ ğŸ“š
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://dunwu.github.io/javatech/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JavaTech æ•™ç¨‹ ğŸ“š
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://dunwu.github.io/spring-tutorial/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Spring æ•™ç¨‹ ğŸ“š
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://dunwu.github.io/spring-boot-tutorial/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Spring Boot æ•™ç¨‹ ğŸ“š
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="https://github.com/dunwu/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ğŸ¯ åšå®¢
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/dunwu/bigdata-tutorial" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/bigdata-tutorial/hive/" class="nav-link">
  Hive
</a></div><div class="nav-item"><a href="/bigdata-tutorial/hdfs/" class="nav-link">
  Hdfs
</a></div><div class="nav-item"><a href="/bigdata-tutorial/hbase/" class="nav-link">
  Hbase
</a></div><div class="nav-item"><a href="/bigdata-tutorial/zookeeper/" class="nav-link">
  ZooKeeper
</a></div><div class="nav-item"><a href="/bigdata-tutorial/kafka/" class="nav-link router-link-active">
  Kafka
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><span class="title">âœ¨ Javaç³»åˆ—</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java" class="mobile-dropdown-title"><span class="title">âœ¨ Javaç³»åˆ—</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://dunwu.github.io/java-tutorial/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Java æ•™ç¨‹ ğŸ“š
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://dunwu.github.io/javacore/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JavaCore æ•™ç¨‹ ğŸ“š
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://dunwu.github.io/javatech/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JavaTech æ•™ç¨‹ ğŸ“š
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://dunwu.github.io/spring-tutorial/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Spring æ•™ç¨‹ ğŸ“š
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://dunwu.github.io/spring-boot-tutorial/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Spring Boot æ•™ç¨‹ ğŸ“š
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="https://github.com/dunwu/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ğŸ¯ åšå®¢
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/dunwu/bigdata-tutorial" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Kafka è¿ç»´</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/bigdata-tutorial/kafka/Kafka%E8%BF%90%E7%BB%B4.html#_1-kafka-å•ç‚¹éƒ¨ç½²" class="sidebar-link">1. Kafka å•ç‚¹éƒ¨ç½²</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/bigdata-tutorial/kafka/Kafka%E8%BF%90%E7%BB%B4.html#_1-1-ä¸‹è½½è§£å‹" class="sidebar-link">1.1. ä¸‹è½½è§£å‹</a></li><li class="sidebar-sub-header"><a href="/bigdata-tutorial/kafka/Kafka%E8%BF%90%E7%BB%B4.html#_1-2-å¯åŠ¨æœåŠ¡å™¨" class="sidebar-link">1.2. å¯åŠ¨æœåŠ¡å™¨</a></li><li class="sidebar-sub-header"><a href="/bigdata-tutorial/kafka/Kafka%E8%BF%90%E7%BB%B4.html#_1-3-åœæ­¢æœåŠ¡å™¨" class="sidebar-link">1.3. åœæ­¢æœåŠ¡å™¨</a></li></ul></li><li><a href="/bigdata-tutorial/kafka/Kafka%E8%BF%90%E7%BB%B4.html#_2-kafka-é›†ç¾¤éƒ¨ç½²" class="sidebar-link">2. Kafka é›†ç¾¤éƒ¨ç½²</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/bigdata-tutorial/kafka/Kafka%E8%BF%90%E7%BB%B4.html#_2-1-ä¿®æ”¹é…ç½®" class="sidebar-link">2.1. ä¿®æ”¹é…ç½®</a></li><li class="sidebar-sub-header"><a href="/bigdata-tutorial/kafka/Kafka%E8%BF%90%E7%BB%B4.html#_2-2-å¯åŠ¨" class="sidebar-link">2.2. å¯åŠ¨</a></li></ul></li><li><a href="/bigdata-tutorial/kafka/Kafka%E8%BF%90%E7%BB%B4.html#_3-kafka-å‘½ä»¤" class="sidebar-link">3. Kafka å‘½ä»¤</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/bigdata-tutorial/kafka/Kafka%E8%BF%90%E7%BB%B4.html#_3-1-ä¸»é¢˜-topic" class="sidebar-link">3.1. ä¸»é¢˜ï¼ˆTopicï¼‰</a></li><li class="sidebar-sub-header"><a href="/bigdata-tutorial/kafka/Kafka%E8%BF%90%E7%BB%B4.html#_3-2-ç”Ÿäº§è€…-producers" class="sidebar-link">3.2. ç”Ÿäº§è€…ï¼ˆProducersï¼‰</a></li><li class="sidebar-sub-header"><a href="/bigdata-tutorial/kafka/Kafka%E8%BF%90%E7%BB%B4.html#_3-3-æ¶ˆè´¹è€…-consumers" class="sidebar-link">3.3. æ¶ˆè´¹è€…ï¼ˆConsumersï¼‰</a></li><li class="sidebar-sub-header"><a href="/bigdata-tutorial/kafka/Kafka%E8%BF%90%E7%BB%B4.html#_3-4-é…ç½®-config" class="sidebar-link">3.4. é…ç½®ï¼ˆConfigï¼‰</a></li><li class="sidebar-sub-header"><a href="/bigdata-tutorial/kafka/Kafka%E8%BF%90%E7%BB%B4.html#_3-5-acl" class="sidebar-link">3.5. ACL</a></li><li class="sidebar-sub-header"><a href="/bigdata-tutorial/kafka/Kafka%E8%BF%90%E7%BB%B4.html#_3-6-zookeeper" class="sidebar-link">3.6. ZooKeeper</a></li></ul></li><li><a href="/bigdata-tutorial/kafka/Kafka%E8%BF%90%E7%BB%B4.html#_4-kafka-å·¥å…·" class="sidebar-link">4. Kafka å·¥å…·</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/bigdata-tutorial/kafka/Kafka%E8%BF%90%E7%BB%B4.html#_5-kafka-æ ¸å¿ƒé…ç½®" class="sidebar-link">5. Kafka æ ¸å¿ƒé…ç½®</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/bigdata-tutorial/kafka/Kafka%E8%BF%90%E7%BB%B4.html#_5-1-broker-çº§åˆ«é…ç½®" class="sidebar-link">5.1. Broker çº§åˆ«é…ç½®</a></li><li class="sidebar-sub-header"><a href="/bigdata-tutorial/kafka/Kafka%E8%BF%90%E7%BB%B4.html#_5-2-topic-çº§åˆ«é…ç½®" class="sidebar-link">5.2. Topic çº§åˆ«é…ç½®</a></li><li class="sidebar-sub-header"><a href="/bigdata-tutorial/kafka/Kafka%E8%BF%90%E7%BB%B4.html#_5-3-æ“ä½œç³»ç»Ÿå‚æ•°" class="sidebar-link">5.3. æ“ä½œç³»ç»Ÿå‚æ•°</a></li></ul></li><li><a href="/bigdata-tutorial/kafka/Kafka%E8%BF%90%E7%BB%B4.html#_6-kafka-é›†ç¾¤è§„åˆ’" class="sidebar-link">6. Kafka é›†ç¾¤è§„åˆ’</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/bigdata-tutorial/kafka/Kafka%E8%BF%90%E7%BB%B4.html#_6-1-æ“ä½œç³»ç»Ÿ" class="sidebar-link">6.1. æ“ä½œç³»ç»Ÿ</a></li><li class="sidebar-sub-header"><a href="/bigdata-tutorial/kafka/Kafka%E8%BF%90%E7%BB%B4.html#_6-2-ç£ç›˜" class="sidebar-link">6.2. ç£ç›˜</a></li><li class="sidebar-sub-header"><a href="/bigdata-tutorial/kafka/Kafka%E8%BF%90%E7%BB%B4.html#_6-3-å¸¦å®½" class="sidebar-link">6.3. å¸¦å®½</a></li></ul></li><li><a href="/bigdata-tutorial/kafka/Kafka%E8%BF%90%E7%BB%B4.html#_7-å‚è€ƒèµ„æ–™" class="sidebar-link">7. å‚è€ƒèµ„æ–™</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="kafka-è¿ç»´"><a href="#kafka-è¿ç»´" class="header-anchor">#</a> Kafka è¿ç»´</h1> <blockquote><p>ç¯å¢ƒè¦æ±‚ï¼š</p> <ul><li>JDK8</li> <li>ZooKeeper</li></ul></blockquote> <ul><li><a href="#1-kafka-%E5%8D%95%E7%82%B9%E9%83%A8%E7%BD%B2">1. Kafka å•ç‚¹éƒ¨ç½²</a> <ul><li><a href="#11-%E4%B8%8B%E8%BD%BD%E8%A7%A3%E5%8E%8B">1.1. ä¸‹è½½è§£å‹</a></li> <li><a href="#12-%E5%90%AF%E5%8A%A8%E6%9C%8D%E5%8A%A1%E5%99%A8">1.2. å¯åŠ¨æœåŠ¡å™¨</a></li> <li><a href="#13-%E5%81%9C%E6%AD%A2%E6%9C%8D%E5%8A%A1%E5%99%A8">1.3. åœæ­¢æœåŠ¡å™¨</a></li></ul></li> <li><a href="#2-kafka-%E9%9B%86%E7%BE%A4%E9%83%A8%E7%BD%B2">2. Kafka é›†ç¾¤éƒ¨ç½²</a> <ul><li><a href="#21-%E4%BF%AE%E6%94%B9%E9%85%8D%E7%BD%AE">2.1. ä¿®æ”¹é…ç½®</a></li> <li><a href="#22-%E5%90%AF%E5%8A%A8">2.2. å¯åŠ¨</a></li></ul></li> <li><a href="#3-kafka-%E5%91%BD%E4%BB%A4">3. Kafka å‘½ä»¤</a> <ul><li><a href="#31-%E4%B8%BB%E9%A2%98topic">3.1. ä¸»é¢˜ï¼ˆTopicï¼‰</a></li> <li><a href="#32-%E7%94%9F%E4%BA%A7%E8%80%85producers">3.2. ç”Ÿäº§è€…ï¼ˆProducersï¼‰</a></li> <li><a href="#33-%E6%B6%88%E8%B4%B9%E8%80%85consumers">3.3. æ¶ˆè´¹è€…ï¼ˆConsumersï¼‰</a></li> <li><a href="#34-%E9%85%8D%E7%BD%AEconfig">3.4. é…ç½®ï¼ˆConfigï¼‰</a></li> <li><a href="#35-acl">3.5. ACL</a></li> <li><a href="#36-zookeeper">3.6. ZooKeeper</a></li></ul></li> <li><a href="#4-Kafka-%E5%B7%A5%E5%85%B7">4. Kafka å·¥å…·</a></li> <li><a href="#5-kafka-%E6%A0%B8%E5%BF%83%E9%85%8D%E7%BD%AE">5. Kafka æ ¸å¿ƒé…ç½®</a> <ul><li><a href="#51-broker-%E7%BA%A7%E5%88%AB%E9%85%8D%E7%BD%AE">5.1. Broker çº§åˆ«é…ç½®</a></li> <li><a href="#52-topic-%E7%BA%A7%E5%88%AB%E9%85%8D%E7%BD%AE">5.2. Topic çº§åˆ«é…ç½®</a></li> <li><a href="#53-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%8F%82%E6%95%B0">5.3. æ“ä½œç³»ç»Ÿå‚æ•°</a></li></ul></li> <li><a href="#6-kafka-%E9%9B%86%E7%BE%A4%E8%A7%84%E5%88%92">6. Kafka é›†ç¾¤è§„åˆ’</a> <ul><li><a href="#61-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F">6.1. æ“ä½œç³»ç»Ÿ</a></li> <li><a href="#62-%E7%A3%81%E7%9B%98">6.2. ç£ç›˜</a></li> <li><a href="#63-%E5%B8%A6%E5%AE%BD">6.3. å¸¦å®½</a></li></ul></li> <li><a href="#7-%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99">7. å‚è€ƒèµ„æ–™</a></li></ul> <h2 id="_1-kafka-å•ç‚¹éƒ¨ç½²"><a href="#_1-kafka-å•ç‚¹éƒ¨ç½²" class="header-anchor">#</a> 1. Kafka å•ç‚¹éƒ¨ç½²</h2> <h3 id="_1-1-ä¸‹è½½è§£å‹"><a href="#_1-1-ä¸‹è½½è§£å‹" class="header-anchor">#</a> 1.1. ä¸‹è½½è§£å‹</h3> <p>è¿›å…¥å®˜æ–¹ä¸‹è½½åœ°å€ï¼š<a href="http://kafka.apache.org/downloads%EF%BC%8C%E9%80%89%E6%8B%A9%E5%90%88%E9%80%82%E7%89%88%E6%9C%AC%E3%80%82" target="_blank" rel="noopener noreferrer">http://kafka.apache.org/downloadsï¼Œé€‰æ‹©åˆé€‚ç‰ˆæœ¬ã€‚<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>è§£å‹åˆ°æœ¬åœ°ï¼š</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">tar</span> -xzf kafka_2.11-1.1.0.tgz
<span class="token builtin class-name">cd</span> kafka_2.11-1.1.0
</code></pre></div><p>ç°åœ¨æ‚¨å·²ç»åœ¨æ‚¨çš„æœºå™¨ä¸Šä¸‹è½½äº†æœ€æ–°ç‰ˆæœ¬çš„ Kafkaã€‚</p> <h3 id="_1-2-å¯åŠ¨æœåŠ¡å™¨"><a href="#_1-2-å¯åŠ¨æœåŠ¡å™¨" class="header-anchor">#</a> 1.2. å¯åŠ¨æœåŠ¡å™¨</h3> <p>ç”±äº Kafka ä¾èµ–äº ZooKeeperï¼Œæ‰€ä»¥è¿è¡Œå‰éœ€è¦å…ˆå¯åŠ¨ ZooKeeper</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ bin/zookeeper-server-start.sh config/zookeeper.properties
<span class="token punctuation">[</span><span class="token number">2013</span>-04-22 <span class="token number">15</span>:01:37,495<span class="token punctuation">]</span> INFO Reading configuration from: config/zookeeper.properties <span class="token punctuation">(</span>org.apache.zookeeper.server.quorum.QuorumPeerConfig<span class="token punctuation">)</span>
<span class="token punctuation">..</span>.
</code></pre></div><p>ç„¶åï¼Œå¯åŠ¨ Kafka</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ bin/kafka-server-start.sh config/server.properties
<span class="token punctuation">[</span><span class="token number">2013</span>-04-22 <span class="token number">15</span>:01:47,028<span class="token punctuation">]</span> INFO Verifying properties <span class="token punctuation">(</span>kafka.utils.VerifiableProperties<span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token number">2013</span>-04-22 <span class="token number">15</span>:01:47,051<span class="token punctuation">]</span> INFO Property socket.send.buffer.bytes is overridden to <span class="token number">1048576</span> <span class="token punctuation">(</span>kafka.utils.VerifiableProperties<span class="token punctuation">)</span>
<span class="token punctuation">..</span>.
</code></pre></div><h3 id="_1-3-åœæ­¢æœåŠ¡å™¨"><a href="#_1-3-åœæ­¢æœåŠ¡å™¨" class="header-anchor">#</a> 1.3. åœæ­¢æœåŠ¡å™¨</h3> <p>æ‰§è¡Œæ‰€æœ‰æ“ä½œåï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åœæ­¢æœåŠ¡å™¨</p> <div class="language-shell extra-class"><pre class="language-shell"><code>bin/kafka-server-stop.sh config/server.properties
</code></pre></div><h2 id="_2-kafka-é›†ç¾¤éƒ¨ç½²"><a href="#_2-kafka-é›†ç¾¤éƒ¨ç½²" class="header-anchor">#</a> 2. Kafka é›†ç¾¤éƒ¨ç½²</h2> <h3 id="_2-1-ä¿®æ”¹é…ç½®"><a href="#_2-1-ä¿®æ”¹é…ç½®" class="header-anchor">#</a> 2.1. ä¿®æ”¹é…ç½®</h3> <p>å¤åˆ¶é…ç½®ä¸ºå¤šä»½ï¼ˆWindows ä½¿ç”¨ copy å‘½ä»¤ä»£ç†ï¼‰ï¼š</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">cp</span> config/server.properties config/server-1.properties
<span class="token function">cp</span> config/server.properties config/server-2.properties
</code></pre></div><p>ä¿®æ”¹é…ç½®ï¼š</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token attr-name">config/server-1.properties</span><span class="token punctuation">:</span>
<span class="token attr-name">broker.id</span><span class="token punctuation">=</span><span class="token attr-value">1</span>
<span class="token attr-name">listeners</span><span class="token punctuation">=</span><span class="token attr-value">PLAINTEXT://:9093</span>
<span class="token attr-name">log.dir</span><span class="token punctuation">=</span><span class="token attr-value">/tmp/kafka-logs-1</span>

<span class="token attr-name">config/server-2.properties</span><span class="token punctuation">:</span>
<span class="token attr-name">broker.id</span><span class="token punctuation">=</span><span class="token attr-value">2</span>
<span class="token attr-name">listeners</span><span class="token punctuation">=</span><span class="token attr-value">PLAINTEXT://:9094</span>
<span class="token attr-name">log.dir</span><span class="token punctuation">=</span><span class="token attr-value">/tmp/kafka-logs-2</span>
</code></pre></div><p>å…¶ä¸­ï¼Œbroker.id è¿™ä¸ªå‚æ•°å¿…é¡»æ˜¯å”¯ä¸€çš„ã€‚</p> <p>ç«¯å£æ•…æ„é…ç½®çš„ä¸ä¸€è‡´ï¼Œæ˜¯ä¸ºäº†å¯ä»¥åœ¨ä¸€å°æœºå™¨å¯åŠ¨å¤šä¸ªåº”ç”¨èŠ‚ç‚¹ã€‚</p> <h3 id="_2-2-å¯åŠ¨"><a href="#_2-2-å¯åŠ¨" class="header-anchor">#</a> 2.2. å¯åŠ¨</h3> <p>æ ¹æ®è¿™ä¸¤ä»½é…ç½®å¯åŠ¨ä¸‰ä¸ªæœåŠ¡å™¨èŠ‚ç‚¹ï¼š</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ bin/kafka-server-start.sh config/server.properties <span class="token operator">&amp;</span>
<span class="token punctuation">..</span>.
$ bin/kafka-server-start.sh config/server-1.properties <span class="token operator">&amp;</span>
<span class="token punctuation">..</span>.
$ bin/kafka-server-start.sh config/server-2.properties <span class="token operator">&amp;</span>
<span class="token punctuation">..</span>.
</code></pre></div><p>åˆ›å»ºä¸€ä¸ªæ–°çš„ Topic ä½¿ç”¨ ä¸‰ä¸ªå¤‡ä»½ï¼š</p> <div class="language-shell extra-class"><pre class="language-shell"><code>bin/kafka-topics.sh --create --zookeeper localhost:2181 --replication-factor <span class="token number">3</span> --partitions <span class="token number">1</span> --topic my-replicated-topic
</code></pre></div><p>æŸ¥çœ‹ä¸»é¢˜ï¼š</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ bin/kafka-topics.sh --describe --zookeeper localhost:2181 --topic my-replicated-topic
Topic:my-replicated-topic   PartitionCount:1    ReplicationFactor:3 Configs:
    Topic: my-replicated-topic  Partition: <span class="token number">0</span>    Leader: <span class="token number">1</span>   Replicas: <span class="token number">1,2</span>,0 Isr: <span class="token number">1,2</span>,0
</code></pre></div><ul><li>leader - è´Ÿè´£æŒ‡å®šåˆ†åŒºçš„æ‰€æœ‰è¯»å–å’Œå†™å…¥çš„èŠ‚ç‚¹ã€‚æ¯ä¸ªèŠ‚ç‚¹å°†æˆä¸ºéšæœºé€‰æ‹©çš„åˆ†åŒºéƒ¨åˆ†çš„é¢†å¯¼è€…ã€‚</li> <li>replicas - æ˜¯å¤åˆ¶æ­¤åˆ†åŒºæ—¥å¿—çš„èŠ‚ç‚¹åˆ—è¡¨ï¼Œæ— è®ºå®ƒä»¬æ˜¯å¦ä¸ºé¢†å¯¼è€…ï¼Œæˆ–è€…å³ä½¿å®ƒä»¬å½“å‰å¤„äºæ´»åŠ¨çŠ¶æ€ã€‚</li> <li>isr - æ˜¯â€œåŒæ­¥â€å¤åˆ¶å“çš„é›†åˆã€‚è¿™æ˜¯å‰¯æœ¬åˆ—è¡¨çš„å­é›†ï¼Œè¯¥åˆ—è¡¨å½“å‰å¤„äºæ´»è·ƒçŠ¶æ€å¹¶ä¸”å·²ç»è¢«é¢†å¯¼è€…æ•è·ã€‚</li></ul> <h2 id="_3-kafka-å‘½ä»¤"><a href="#_3-kafka-å‘½ä»¤" class="header-anchor">#</a> 3. Kafka å‘½ä»¤</h2> <h3 id="_3-1-ä¸»é¢˜-topic"><a href="#_3-1-ä¸»é¢˜-topic" class="header-anchor">#</a> 3.1. ä¸»é¢˜ï¼ˆTopicï¼‰</h3> <h4 id="åˆ›å»º-topic"><a href="#åˆ›å»º-topic" class="header-anchor">#</a> åˆ›å»º Topic</h4> <div class="language-shell extra-class"><pre class="language-shell"><code>kafka-topics --create --zookeeper localhost:2181 --replication-factor <span class="token number">1</span> --partitions <span class="token number">3</span> --topic my-topic
</code></pre></div><h4 id="æŸ¥çœ‹-topic-åˆ—è¡¨"><a href="#æŸ¥çœ‹-topic-åˆ—è¡¨" class="header-anchor">#</a> æŸ¥çœ‹ Topic åˆ—è¡¨</h4> <div class="language-shell extra-class"><pre class="language-shell"><code>kafka-topics --list --zookeeper localhost:2181
</code></pre></div><h4 id="æ·»åŠ -partition"><a href="#æ·»åŠ -partition" class="header-anchor">#</a> æ·»åŠ  Partition</h4> <div class="language-shell extra-class"><pre class="language-shell"><code>kafka-topics --zookeeper localhost:2181 --alter --topic my-topic --partitions <span class="token number">16</span>
</code></pre></div><h4 id="åˆ é™¤-topic"><a href="#åˆ é™¤-topic" class="header-anchor">#</a> åˆ é™¤ Topic</h4> <div class="language-shell extra-class"><pre class="language-shell"><code>kafka-topics --zookeeper localhost:2181 --delete --topic my-topic
</code></pre></div><h4 id="æŸ¥çœ‹-topic-è¯¦ç»†ä¿¡æ¯"><a href="#æŸ¥çœ‹-topic-è¯¦ç»†ä¿¡æ¯" class="header-anchor">#</a> æŸ¥çœ‹ Topic è¯¦ç»†ä¿¡æ¯</h4> <div class="language-shell extra-class"><pre class="language-shell"><code>kafka-topics --zookeeper localhost:2181/kafka-cluster --describe
</code></pre></div><h4 id="æŸ¥çœ‹å¤‡ä»½åˆ†åŒº"><a href="#æŸ¥çœ‹å¤‡ä»½åˆ†åŒº" class="header-anchor">#</a> æŸ¥çœ‹å¤‡ä»½åˆ†åŒº</h4> <div class="language-shell extra-class"><pre class="language-shell"><code>kafka-topics --zookeeper localhost:2181/kafka-cluster --describe --under-replicated-partitions
</code></pre></div><h3 id="_3-2-ç”Ÿäº§è€…-producers"><a href="#_3-2-ç”Ÿäº§è€…-producers" class="header-anchor">#</a> 3.2. ç”Ÿäº§è€…ï¼ˆProducersï¼‰</h3> <h4 id="é€šè¿‡æ§åˆ¶å°è¾“å…¥ç”Ÿäº§æ¶ˆæ¯"><a href="#é€šè¿‡æ§åˆ¶å°è¾“å…¥ç”Ÿäº§æ¶ˆæ¯" class="header-anchor">#</a> é€šè¿‡æ§åˆ¶å°è¾“å…¥ç”Ÿäº§æ¶ˆæ¯</h4> <div class="language-shell extra-class"><pre class="language-shell"><code>kafka-console-producer --broker-list localhost:9092 --topic my-topic
</code></pre></div><h4 id="é€šè¿‡æ–‡ä»¶è¾“å…¥ç”Ÿäº§æ¶ˆæ¯"><a href="#é€šè¿‡æ–‡ä»¶è¾“å…¥ç”Ÿäº§æ¶ˆæ¯" class="header-anchor">#</a> é€šè¿‡æ–‡ä»¶è¾“å…¥ç”Ÿäº§æ¶ˆæ¯</h4> <div class="language-shell extra-class"><pre class="language-shell"><code>kafka-console-producer --broker-list localhost:9092 --topic <span class="token builtin class-name">test</span> <span class="token operator">&lt;</span> messages.txt
</code></pre></div><h4 id="é€šè¿‡æ§åˆ¶å°è¾“å…¥-avro-ç”Ÿäº§æ¶ˆæ¯"><a href="#é€šè¿‡æ§åˆ¶å°è¾“å…¥-avro-ç”Ÿäº§æ¶ˆæ¯" class="header-anchor">#</a> é€šè¿‡æ§åˆ¶å°è¾“å…¥ Avro ç”Ÿäº§æ¶ˆæ¯</h4> <div class="language-shell extra-class"><pre class="language-shell"><code>kafka-avro-console-producer --broker-list localhost:9092 --topic my.Topic --property value.schema<span class="token operator">=</span><span class="token string">'{&quot;type&quot;:&quot;record&quot;,&quot;name&quot;:&quot;myrecord&quot;,&quot;fields&quot;:[{&quot;name&quot;:&quot;f1&quot;,&quot;type&quot;:&quot;string&quot;}]}'</span> --property schema.registry.url<span class="token operator">=</span>http://localhost:8081
</code></pre></div><p>ç„¶åï¼Œå¯ä»¥é€‰æ‹©è¾“å…¥éƒ¨åˆ† json keyï¼š</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span> <span class="token property">&quot;f1&quot;</span><span class="token operator">:</span> <span class="token string">&quot;value1&quot;</span> <span class="token punctuation">}</span>
</code></pre></div><h4 id="ç”Ÿæˆæ¶ˆæ¯æ€§èƒ½æµ‹è¯•"><a href="#ç”Ÿæˆæ¶ˆæ¯æ€§èƒ½æµ‹è¯•" class="header-anchor">#</a> ç”Ÿæˆæ¶ˆæ¯æ€§èƒ½æµ‹è¯•</h4> <div class="language-shell extra-class"><pre class="language-shell"><code>kafka-producer-perf-test --topic position-reports --throughput <span class="token number">10000</span> --record-size <span class="token number">300</span> --num-records <span class="token number">20000</span> --producer-props bootstrap.servers<span class="token operator">=</span><span class="token string">&quot;localhost:9092&quot;</span>
</code></pre></div><h3 id="_3-3-æ¶ˆè´¹è€…-consumers"><a href="#_3-3-æ¶ˆè´¹è€…-consumers" class="header-anchor">#</a> 3.3. æ¶ˆè´¹è€…ï¼ˆConsumersï¼‰</h3> <h4 id="æ¶ˆè´¹æ‰€æœ‰æœªæ¶ˆè´¹çš„æ¶ˆæ¯"><a href="#æ¶ˆè´¹æ‰€æœ‰æœªæ¶ˆè´¹çš„æ¶ˆæ¯" class="header-anchor">#</a> æ¶ˆè´¹æ‰€æœ‰æœªæ¶ˆè´¹çš„æ¶ˆæ¯</h4> <div class="language-shell extra-class"><pre class="language-shell"><code>kafka-console-consumer --bootstrap-server localhost:9092 --topic my-topic --from-beginning
</code></pre></div><h4 id="æ¶ˆè´¹ä¸€æ¡æ¶ˆæ¯"><a href="#æ¶ˆè´¹ä¸€æ¡æ¶ˆæ¯" class="header-anchor">#</a> æ¶ˆè´¹ä¸€æ¡æ¶ˆæ¯</h4> <div class="language-shell extra-class"><pre class="language-shell"><code>kafka-console-consumer --bootstrap-server localhost:9092 --topic my-topic  --max-messages <span class="token number">1</span>
</code></pre></div><h4 id="ä»æŒ‡å®šçš„-offset-æ¶ˆè´¹ä¸€æ¡æ¶ˆæ¯"><a href="#ä»æŒ‡å®šçš„-offset-æ¶ˆè´¹ä¸€æ¡æ¶ˆæ¯" class="header-anchor">#</a> ä»æŒ‡å®šçš„ offset æ¶ˆè´¹ä¸€æ¡æ¶ˆæ¯</h4> <p>ä»æŒ‡å®šçš„ offset <code>__consumer_offsets</code> æ¶ˆè´¹ä¸€æ¡æ¶ˆæ¯ï¼š</p> <div class="language-shell extra-class"><pre class="language-shell"><code>kafka-console-consumer --bootstrap-server localhost:9092 --topic __consumer_offsets --formatter <span class="token string">'kafka.coordinator.GroupMetadataManager$OffsetsMessageFormatter'</span> --max-messages <span class="token number">1</span>
</code></pre></div><h4 id="ä»æŒ‡å®š-group-æ¶ˆè´¹æ¶ˆæ¯"><a href="#ä»æŒ‡å®š-group-æ¶ˆè´¹æ¶ˆæ¯" class="header-anchor">#</a> ä»æŒ‡å®š Group æ¶ˆè´¹æ¶ˆæ¯</h4> <div class="language-shell extra-class"><pre class="language-shell"><code>kafka-console-consumer --topic my-topic --new-consumer --bootstrap-server localhost:9092 --consumer-property group.id<span class="token operator">=</span>my-group
</code></pre></div><h4 id="æ¶ˆè´¹-avro-æ¶ˆæ¯"><a href="#æ¶ˆè´¹-avro-æ¶ˆæ¯" class="header-anchor">#</a> æ¶ˆè´¹ avro æ¶ˆæ¯</h4> <div class="language-shell extra-class"><pre class="language-shell"><code>kafka-avro-console-consumer --topic position-reports --new-consumer --bootstrap-server localhost:9092 --from-beginning --property schema.registry.url<span class="token operator">=</span>localhost:8081 --max-messages <span class="token number">10</span>
</code></pre></div><div class="language-shell extra-class"><pre class="language-shell"><code>kafka-avro-console-consumer --topic position-reports --new-consumer --bootstrap-server localhost:9092 --from-beginning --property schema.registry.url<span class="token operator">=</span>localhost:8081
</code></pre></div><h4 id="æŸ¥çœ‹æ¶ˆè´¹è€…-group-åˆ—è¡¨"><a href="#æŸ¥çœ‹æ¶ˆè´¹è€…-group-åˆ—è¡¨" class="header-anchor">#</a> æŸ¥çœ‹æ¶ˆè´¹è€… Group åˆ—è¡¨</h4> <div class="language-shell extra-class"><pre class="language-shell"><code>kafka-consumer-groups --new-consumer --list --bootstrap-server localhost:9092
</code></pre></div><h4 id="æŸ¥çœ‹æ¶ˆè´¹è€…-group-è¯¦ç»†ä¿¡æ¯"><a href="#æŸ¥çœ‹æ¶ˆè´¹è€…-group-è¯¦ç»†ä¿¡æ¯" class="header-anchor">#</a> æŸ¥çœ‹æ¶ˆè´¹è€… Group è¯¦ç»†ä¿¡æ¯</h4> <div class="language-shell extra-class"><pre class="language-shell"><code>kafka-consumer-groups --bootstrap-server localhost:9092 --describe --group testgroup
</code></pre></div><h3 id="_3-4-é…ç½®-config"><a href="#_3-4-é…ç½®-config" class="header-anchor">#</a> 3.4. é…ç½®ï¼ˆConfigï¼‰</h3> <h4 id="è®¾ç½®-topic-çš„ä¿ç•™æ—¶é—´"><a href="#è®¾ç½®-topic-çš„ä¿ç•™æ—¶é—´" class="header-anchor">#</a> è®¾ç½® Topic çš„ä¿ç•™æ—¶é—´</h4> <div class="language-shell extra-class"><pre class="language-shell"><code>kafka-configs --zookeeper localhost:2181 --alter --entity-type topics --entity-name my-topic --add-config retention.ms<span class="token operator">=</span><span class="token number">3600000</span>
</code></pre></div><h4 id="æŸ¥çœ‹-topic-çš„æ‰€æœ‰é…ç½®"><a href="#æŸ¥çœ‹-topic-çš„æ‰€æœ‰é…ç½®" class="header-anchor">#</a> æŸ¥çœ‹ Topic çš„æ‰€æœ‰é…ç½®</h4> <div class="language-shell extra-class"><pre class="language-shell"><code>kafka-configs --zookeeper localhost:2181 --describe --entity-type topics --entity-name my-topic
</code></pre></div><h4 id="ä¿®æ”¹-topic-çš„é…ç½®"><a href="#ä¿®æ”¹-topic-çš„é…ç½®" class="header-anchor">#</a> ä¿®æ”¹ Topic çš„é…ç½®</h4> <div class="language-shell extra-class"><pre class="language-shell"><code>kafka-configs --zookeeper localhost:2181 --alter --entity-type topics --entity-name my-topic --delete-config retention.ms
</code></pre></div><h3 id="_3-5-acl"><a href="#_3-5-acl" class="header-anchor">#</a> 3.5. ACL</h3> <h4 id="æŸ¥çœ‹æŒ‡å®š-topic-çš„-acl"><a href="#æŸ¥çœ‹æŒ‡å®š-topic-çš„-acl" class="header-anchor">#</a> æŸ¥çœ‹æŒ‡å®š Topic çš„ ACL</h4> <div class="language-shell extra-class"><pre class="language-shell"><code>kafka-acls --authorizer-properties zookeeper.connect<span class="token operator">=</span>localhost:2181 --list --topic topicA
</code></pre></div><h4 id="æ·»åŠ -acl"><a href="#æ·»åŠ -acl" class="header-anchor">#</a> æ·»åŠ  ACL</h4> <div class="language-shell extra-class"><pre class="language-shell"><code>kafka-acls --authorizer-properties zookeeper.connect<span class="token operator">=</span>localhost:2181 --add --allow-principal User:Bob --consumer --topic topicA --group groupA
</code></pre></div><div class="language-shell extra-class"><pre class="language-shell"><code>kafka-acls --authorizer-properties zookeeper.connect<span class="token operator">=</span>localhost:2181 --add --allow-principal User:Bob --producer --topic topicA
</code></pre></div><h3 id="_3-6-zookeeper"><a href="#_3-6-zookeeper" class="header-anchor">#</a> 3.6. ZooKeeper</h3> <div class="language-shell extra-class"><pre class="language-shell"><code>zookeeper-shell localhost:2182 <span class="token function">ls</span> /
</code></pre></div><h2 id="_4-kafka-å·¥å…·"><a href="#_4-kafka-å·¥å…·" class="header-anchor">#</a> 4. Kafka å·¥å…·</h2> <ul><li><strong><a href="https://github.com/yahoo/kafka-manager" target="_blank" rel="noopener noreferrer">kafka-manager<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></strong></li> <li><strong><a href="https://github.com/quantifind/KafkaOffsetMonitor" target="_blank" rel="noopener noreferrer">KafkaOffsetMonitor<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></strong></li></ul> <h2 id="_5-kafka-æ ¸å¿ƒé…ç½®"><a href="#_5-kafka-æ ¸å¿ƒé…ç½®" class="header-anchor">#</a> 5. Kafka æ ¸å¿ƒé…ç½®</h2> <h3 id="_5-1-broker-çº§åˆ«é…ç½®"><a href="#_5-1-broker-çº§åˆ«é…ç½®" class="header-anchor">#</a> 5.1. Broker çº§åˆ«é…ç½®</h3> <h4 id="å­˜å‚¨é…ç½®"><a href="#å­˜å‚¨é…ç½®" class="header-anchor">#</a> å­˜å‚¨é…ç½®</h4> <p>é¦–å…ˆ Broker æ˜¯éœ€è¦é…ç½®å­˜å‚¨ä¿¡æ¯çš„ï¼Œå³ Broker ä½¿ç”¨å“ªäº›ç£ç›˜ã€‚é‚£ä¹ˆé’ˆå¯¹å­˜å‚¨ä¿¡æ¯çš„é‡è¦å‚æ•°æœ‰ä»¥ä¸‹è¿™ä¹ˆå‡ ä¸ªï¼š</p> <ul><li><code>log.dirs</code>ï¼šæŒ‡å®šäº† Broker éœ€è¦ä½¿ç”¨çš„è‹¥å¹²ä¸ªæ–‡ä»¶ç›®å½•è·¯å¾„ã€‚è¿™ä¸ªå‚æ•°æ˜¯æ²¡æœ‰é»˜è®¤å€¼çš„ï¼Œå¿…é¡»ç”±ä½¿ç”¨è€…äº²è‡ªæŒ‡å®šã€‚</li> <li><code>log.dir</code>ï¼šæ³¨æ„è¿™æ˜¯ dirï¼Œç»“å°¾æ²¡æœ‰ sï¼Œè¯´æ˜å®ƒåªèƒ½è¡¨ç¤ºå•ä¸ªè·¯å¾„ï¼Œå®ƒæ˜¯è¡¥å……ä¸Šä¸€ä¸ªå‚æ•°ç”¨çš„ã€‚</li></ul> <p><code>log.dirs</code> å…·ä½“æ ¼å¼æ˜¯ä¸€ä¸ª CSV æ ¼å¼ï¼Œä¹Ÿå°±æ˜¯ç”¨é€—å·åˆ†éš”çš„å¤šä¸ªè·¯å¾„ï¼Œæ¯”å¦‚<code>/home/kafka1,/home/kafka2,/home/kafka3</code>è¿™æ ·ã€‚å¦‚æœæœ‰æ¡ä»¶çš„è¯ä½ æœ€å¥½ä¿è¯è¿™äº›ç›®å½•æŒ‚è½½åˆ°ä¸åŒçš„ç‰©ç†ç£ç›˜ä¸Šã€‚è¿™æ ·åšæœ‰ä¸¤ä¸ªå¥½å¤„ï¼š</p> <ul><li>æå‡è¯»å†™æ€§èƒ½ï¼šæ¯”èµ·å•å—ç£ç›˜ï¼Œå¤šå—ç‰©ç†ç£ç›˜åŒæ—¶è¯»å†™æ•°æ®æœ‰æ›´é«˜çš„ååé‡ã€‚</li> <li>èƒ½å¤Ÿå®ç°æ•…éšœè½¬ç§»ï¼šå³ Failoverã€‚è¿™æ˜¯ Kafka 1.1 ç‰ˆæœ¬æ–°å¼•å…¥çš„å¼ºå¤§åŠŸèƒ½ã€‚è¦çŸ¥é“åœ¨ä»¥å‰ï¼Œåªè¦ Kafka Broker ä½¿ç”¨çš„ä»»ä½•ä¸€å—ç£ç›˜æŒ‚æ‰äº†ï¼Œæ•´ä¸ª Broker è¿›ç¨‹éƒ½ä¼šå…³é—­ã€‚ä½†æ˜¯è‡ª 1.1 å¼€å§‹ï¼Œè¿™ç§æƒ…å†µè¢«ä¿®æ­£äº†ï¼Œåæ‰çš„ç£ç›˜ä¸Šçš„æ•°æ®ä¼šè‡ªåŠ¨åœ°è½¬ç§»åˆ°å…¶ä»–æ­£å¸¸çš„ç£ç›˜ä¸Šï¼Œè€Œä¸” Broker è¿˜èƒ½æ­£å¸¸å·¥ä½œã€‚</li></ul> <h4 id="zookeeper-é…ç½®"><a href="#zookeeper-é…ç½®" class="header-anchor">#</a> zookeeper é…ç½®</h4> <p>Kafka ä¸ ZooKeeper ç›¸å…³çš„æœ€é‡è¦çš„å‚æ•°å½“å± <code>zookeeper.connect</code>ã€‚è¿™ä¹Ÿæ˜¯ä¸€ä¸ª CSV æ ¼å¼çš„å‚æ•°ï¼Œæ¯”å¦‚æˆ‘å¯ä»¥æŒ‡å®šå®ƒçš„å€¼ä¸º<code>zk1:2181,zk2:2181,zk3:2181</code>ã€‚2181 æ˜¯ ZooKeeper çš„é»˜è®¤ç«¯å£ã€‚</p> <p>ç°åœ¨é—®é¢˜æ¥äº†ï¼Œå¦‚æœæˆ‘è®©å¤šä¸ª Kafka é›†ç¾¤ä½¿ç”¨åŒä¸€å¥— ZooKeeper é›†ç¾¤ï¼Œé‚£ä¹ˆè¿™ä¸ªå‚æ•°åº”è¯¥æ€ä¹ˆè®¾ç½®å‘¢ï¼Ÿè¿™æ—¶å€™ chroot å°±æ´¾ä¸Šç”¨åœºäº†ã€‚è¿™ä¸ª chroot æ˜¯ ZooKeeper çš„æ¦‚å¿µï¼Œç±»ä¼¼äºåˆ«åã€‚</p> <p>å¦‚æœä½ æœ‰ä¸¤å¥— Kafka é›†ç¾¤ï¼Œå‡è®¾åˆ†åˆ«å«å®ƒä»¬ kafka1 å’Œ kafka2ï¼Œé‚£ä¹ˆä¸¤å¥—é›†ç¾¤çš„<code>zookeeper.connect</code>å‚æ•°å¯ä»¥è¿™æ ·æŒ‡å®šï¼š<code>zk1:2181,zk2:2181,zk3:2181/kafka1</code>å’Œ<code>zk1:2181,zk2:2181,zk3:2181/kafka2</code>ã€‚åˆ‡è®° chroot åªéœ€è¦å†™ä¸€æ¬¡ï¼Œè€Œä¸”æ˜¯åŠ åˆ°æœ€åçš„ã€‚æˆ‘ç»å¸¸ç¢°åˆ°æœ‰äººè¿™æ ·æŒ‡å®šï¼š<code>zk1:2181/kafka1,zk2:2181/kafka2,zk3:2181/kafka3</code>ï¼Œè¿™æ ·çš„æ ¼å¼æ˜¯ä¸å¯¹çš„ã€‚</p> <h4 id="broker-è¿æ¥é…ç½®"><a href="#broker-è¿æ¥é…ç½®" class="header-anchor">#</a> Broker è¿æ¥é…ç½®</h4> <ul><li><code>listeners</code>ï¼šå‘Šè¯‰å¤–éƒ¨è¿æ¥è€…è¦é€šè¿‡ä»€ä¹ˆåè®®è®¿é—®æŒ‡å®šä¸»æœºåå’Œç«¯å£å¼€æ”¾çš„ Kafka æœåŠ¡ã€‚</li> <li><code>advertised.listeners</code>ï¼šå’Œ listeners ç›¸æ¯”å¤šäº†ä¸ª advertisedã€‚Advertised çš„å«ä¹‰è¡¨ç¤ºå®£ç§°çš„ã€å…¬å¸ƒçš„ï¼Œå°±æ˜¯è¯´è¿™ç»„ç›‘å¬å™¨æ˜¯ Broker ç”¨äºå¯¹å¤–å‘å¸ƒçš„ã€‚</li> <li><code>host.name/port</code>ï¼šåˆ—å‡ºè¿™ä¸¤ä¸ªå‚æ•°å°±æ˜¯æƒ³è¯´ä½ æŠŠå®ƒä»¬å¿˜æ‰å§ï¼Œå‹æ ¹ä¸è¦ä¸ºå®ƒä»¬æŒ‡å®šå€¼ï¼Œæ¯•ç«Ÿéƒ½æ˜¯è¿‡æœŸçš„å‚æ•°äº†ã€‚</li></ul> <p>æˆ‘ä»¬å…·ä½“è¯´è¯´ç›‘å¬å™¨çš„æ¦‚å¿µï¼Œä»æ„æˆä¸Šæ¥è¯´ï¼Œå®ƒæ˜¯è‹¥å¹²ä¸ªé€—å·åˆ†éš”çš„ä¸‰å…ƒç»„ï¼Œæ¯ä¸ªä¸‰å…ƒç»„çš„æ ¼å¼ä¸º<code>&lt;åè®®åç§°ï¼Œä¸»æœºåï¼Œç«¯å£å·&gt;</code>ã€‚è¿™é‡Œçš„åè®®åç§°å¯èƒ½æ˜¯æ ‡å‡†çš„åå­—ï¼Œæ¯”å¦‚ PLAINTEXT è¡¨ç¤ºæ˜æ–‡ä¼ è¾“ã€SSL è¡¨ç¤ºä½¿ç”¨ SSL æˆ– TLS åŠ å¯†ä¼ è¾“ç­‰ï¼›ä¹Ÿå¯èƒ½æ˜¯ä½ è‡ªå·±å®šä¹‰çš„åè®®åå­—ï¼Œæ¯”å¦‚<code>CONTROLLER: //localhost:9092</code>ã€‚</p> <p><strong>æœ€å¥½å…¨éƒ¨ä½¿ç”¨ä¸»æœºåï¼Œå³ Broker ç«¯å’Œ Client ç«¯åº”ç”¨é…ç½®ä¸­å…¨éƒ¨å¡«å†™ä¸»æœºåã€‚</strong></p> <h4 id="topic-ç®¡ç†"><a href="#topic-ç®¡ç†" class="header-anchor">#</a> Topic ç®¡ç†</h4> <ul><li><code>auto.create.topics.enable</code>ï¼šæ˜¯å¦å…è®¸è‡ªåŠ¨åˆ›å»º Topicã€‚ä¸€èˆ¬è®¾ä¸º falseï¼Œç”±è¿ç»´æŠŠæ§åˆ›å»º Topicã€‚</li> <li><code>unclean.leader.election.enable</code>ï¼šæ˜¯å¦å…è®¸ Unclean Leader é€‰ä¸¾ã€‚</li> <li><code>auto.leader.rebalance.enable</code>ï¼šæ˜¯å¦å…è®¸å®šæœŸè¿›è¡Œ Leader é€‰ä¸¾ã€‚</li></ul> <p>ç¬¬äºŒä¸ªå‚æ•°<code>unclean.leader.election.enable</code>æ˜¯å…³é—­ Unclean Leader é€‰ä¸¾çš„ã€‚ä½•è°“ Uncleanï¼Ÿè¿˜è®°å¾— Kafka æœ‰å¤šä¸ªå‰¯æœ¬è¿™ä»¶äº‹å—ï¼Ÿæ¯ä¸ªåˆ†åŒºéƒ½æœ‰å¤šä¸ªå‰¯æœ¬æ¥æä¾›é«˜å¯ç”¨ã€‚åœ¨è¿™äº›å‰¯æœ¬ä¸­åªèƒ½æœ‰ä¸€ä¸ªå‰¯æœ¬å¯¹å¤–æä¾›æœåŠ¡ï¼Œå³æ‰€è°“çš„ Leader å‰¯æœ¬ã€‚</p> <p>é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œè¿™äº›å‰¯æœ¬éƒ½æœ‰èµ„æ ¼ç«äº‰ Leader å—ï¼Ÿæ˜¾ç„¶ä¸æ˜¯ï¼Œåªæœ‰ä¿å­˜æ•°æ®æ¯”è¾ƒå¤šçš„é‚£äº›å‰¯æœ¬æ‰æœ‰èµ„æ ¼ç«é€‰ï¼Œé‚£äº›è½åè¿›åº¦å¤ªå¤šçš„å‰¯æœ¬æ²¡èµ„æ ¼åšè¿™ä»¶äº‹ã€‚</p> <p>å¥½äº†ï¼Œç°åœ¨å‡ºç°è¿™ç§æƒ…å†µäº†ï¼šå‡è®¾é‚£äº›ä¿å­˜æ•°æ®æ¯”è¾ƒå¤šçš„å‰¯æœ¬éƒ½æŒ‚äº†æ€ä¹ˆåŠï¼Ÿæˆ‘ä»¬è¿˜è¦ä¸è¦è¿›è¡Œ Leader é€‰ä¸¾äº†ï¼Ÿæ­¤æ—¶è¿™ä¸ªå‚æ•°å°±æ´¾ä¸Šç”¨åœºäº†ã€‚</p> <p>å¦‚æœè®¾ç½®æˆ falseï¼Œé‚£ä¹ˆå°±åšæŒä¹‹å‰çš„åŸåˆ™ï¼Œåšå†³ä¸èƒ½è®©é‚£äº›è½åå¤ªå¤šçš„å‰¯æœ¬ç«é€‰ Leaderã€‚è¿™æ ·åšçš„åæœæ˜¯è¿™ä¸ªåˆ†åŒºå°±ä¸å¯ç”¨äº†ï¼Œå› ä¸ºæ²¡æœ‰ Leader äº†ã€‚åä¹‹å¦‚æœæ˜¯ trueï¼Œé‚£ä¹ˆ Kafka å…è®¸ä½ ä»é‚£äº›â€œè·‘å¾—æ…¢â€çš„å‰¯æœ¬ä¸­é€‰ä¸€ä¸ªå‡ºæ¥å½“ Leaderã€‚è¿™æ ·åšçš„åæœæ˜¯æ•°æ®æœ‰å¯èƒ½å°±ä¸¢å¤±äº†ï¼Œå› ä¸ºè¿™äº›å‰¯æœ¬ä¿å­˜çš„æ•°æ®æœ¬æ¥å°±ä¸å…¨ï¼Œå½“äº† Leader ä¹‹åå®ƒæœ¬äººå°±å˜å¾—è†¨èƒ€äº†ï¼Œè®¤ä¸ºè‡ªå·±çš„æ•°æ®æ‰æ˜¯æƒå¨çš„ã€‚</p> <p>è¿™ä¸ªå‚æ•°åœ¨æœ€æ–°ç‰ˆçš„ Kafka ä¸­é»˜è®¤å°±æ˜¯ falseï¼Œæœ¬æ¥ä¸éœ€è¦æˆ‘ç‰¹æ„æçš„ï¼Œä½†æ˜¯æ¯”è¾ƒæç¬‘çš„æ˜¯ç¤¾åŒºå¯¹è¿™ä¸ªå‚æ•°çš„é»˜è®¤å€¼æ¥æ¥å›å›æ”¹äº†å¥½å‡ ç‰ˆäº†ï¼Œé‰´äºæˆ‘ä¸çŸ¥é“ä½ ç”¨çš„æ˜¯å“ªä¸ªç‰ˆæœ¬çš„ Kafkaï¼Œæ‰€ä»¥å»ºè®®ä½ è¿˜æ˜¯æ˜¾å¼åœ°æŠŠå®ƒè®¾ç½®æˆ false å§ã€‚</p> <p>ç¬¬ä¸‰ä¸ªå‚æ•°<code>auto.leader.rebalance.enable</code>çš„å½±å“è²Œä¼¼æ²¡ä»€ä¹ˆäººæï¼Œä½†å…¶å®å¯¹ç”Ÿäº§ç¯å¢ƒå½±å“éå¸¸å¤§ã€‚è®¾ç½®å®ƒçš„å€¼ä¸º true è¡¨ç¤ºå…è®¸ Kafka å®šæœŸåœ°å¯¹ä¸€äº› Topic åˆ†åŒºè¿›è¡Œ Leader é‡é€‰ä¸¾ï¼Œå½“ç„¶è¿™ä¸ªé‡é€‰ä¸¾ä¸æ˜¯æ— è„‘è¿›è¡Œçš„ï¼Œå®ƒè¦æ»¡è¶³ä¸€å®šçš„æ¡ä»¶æ‰ä¼šå‘ç”Ÿã€‚ä¸¥æ ¼æ¥è¯´å®ƒä¸ä¸Šä¸€ä¸ªå‚æ•°ä¸­ Leader é€‰ä¸¾çš„æœ€å¤§ä¸åŒåœ¨äºï¼Œå®ƒä¸æ˜¯é€‰ Leaderï¼Œè€Œæ˜¯æ¢ Leaderï¼æ¯”å¦‚ Leader A ä¸€ç›´è¡¨ç°å¾—å¾ˆå¥½ï¼Œä½†è‹¥<code>auto.leader.rebalance.enable=true</code>ï¼Œé‚£ä¹ˆæœ‰å¯èƒ½ä¸€æ®µæ—¶é—´å Leader A å°±è¦è¢«å¼ºè¡Œå¸ä»»æ¢æˆ Leader Bã€‚</p> <p>ä½ è¦çŸ¥é“æ¢ä¸€æ¬¡ Leader ä»£ä»·å¾ˆé«˜çš„ï¼ŒåŸæœ¬å‘ A å‘é€è¯·æ±‚çš„æ‰€æœ‰å®¢æˆ·ç«¯éƒ½è¦åˆ‡æ¢æˆå‘ B å‘é€è¯·æ±‚ï¼Œè€Œä¸”è¿™ç§æ¢ Leader æœ¬è´¨ä¸Šæ²¡æœ‰ä»»ä½•æ€§èƒ½æ”¶ç›Šï¼Œå› æ­¤æˆ‘å»ºè®®ä½ åœ¨ç”Ÿäº§ç¯å¢ƒä¸­æŠŠè¿™ä¸ªå‚æ•°è®¾ç½®æˆ falseã€‚</p> <h4 id="æ•°æ®ç•™å­˜"><a href="#æ•°æ®ç•™å­˜" class="header-anchor">#</a> æ•°æ®ç•™å­˜</h4> <ul><li><code>log.retention.{hour|minutes|ms}</code>ï¼šéƒ½æ˜¯æ§åˆ¶ä¸€æ¡æ¶ˆæ¯æ•°æ®è¢«ä¿å­˜å¤šé•¿æ—¶é—´ã€‚ä»ä¼˜å…ˆçº§ä¸Šæ¥è¯´ ms è®¾ç½®æœ€é«˜ã€minutes æ¬¡ä¹‹ã€hour æœ€ä½ã€‚é€šå¸¸æƒ…å†µä¸‹æˆ‘ä»¬è¿˜æ˜¯è®¾ç½® hour çº§åˆ«çš„å¤šä¸€äº›ï¼Œæ¯”å¦‚<code>log.retention.hour=168</code>è¡¨ç¤ºé»˜è®¤ä¿å­˜ 7 å¤©çš„æ•°æ®ï¼Œè‡ªåŠ¨åˆ é™¤ 7 å¤©å‰çš„æ•°æ®ã€‚å¾ˆå¤šå…¬å¸æŠŠ Kafka å½“åšå­˜å‚¨æ¥ä½¿ç”¨ï¼Œé‚£ä¹ˆè¿™ä¸ªå€¼å°±è¦ç›¸åº”åœ°è°ƒå¤§ã€‚</li> <li><code>log.retention.bytes</code>ï¼šè¿™æ˜¯æŒ‡å®š Broker ä¸ºæ¶ˆæ¯ä¿å­˜çš„æ€»ç£ç›˜å®¹é‡å¤§å°ã€‚è¿™ä¸ªå€¼é»˜è®¤æ˜¯ -1ï¼Œè¡¨æ˜ä½ æƒ³åœ¨è¿™å° Broker ä¸Šä¿å­˜å¤šå°‘æ•°æ®éƒ½å¯ä»¥ï¼Œè‡³å°‘åœ¨å®¹é‡æ–¹é¢ Broker ç»å¯¹ä¸ºä½ å¼€ç»¿ç¯ï¼Œä¸ä¼šåšä»»ä½•é˜»æ‹¦ã€‚è¿™ä¸ªå‚æ•°çœŸæ­£å‘æŒ¥ä½œç”¨çš„åœºæ™¯å…¶å®æ˜¯åœ¨äº‘ä¸Šæ„å»ºå¤šç§Ÿæˆ·çš„ Kafka é›†ç¾¤ï¼šè®¾æƒ³ä½ è¦åšä¸€ä¸ªäº‘ä¸Šçš„ Kafka æœåŠ¡ï¼Œæ¯ä¸ªç§Ÿæˆ·åªèƒ½ä½¿ç”¨ 100GB çš„ç£ç›˜ç©ºé—´ï¼Œä¸ºäº†é¿å…æœ‰ä¸ªâ€œæ¶æ„â€ç§Ÿæˆ·ä½¿ç”¨è¿‡å¤šçš„ç£ç›˜ç©ºé—´ï¼Œè®¾ç½®è¿™ä¸ªå‚æ•°å°±æ˜¾å¾—è‡³å…³é‡è¦äº†ã€‚</li> <li><code>message.max.bytes</code>ï¼šæ§åˆ¶ Broker èƒ½å¤Ÿæ¥æ”¶çš„æœ€å¤§æ¶ˆæ¯å¤§å°ã€‚é»˜è®¤çš„ 1000012 å¤ªå°‘äº†ï¼Œè¿˜ä¸åˆ° 1MBã€‚å®é™…åœºæ™¯ä¸­çªç ´ 1MB çš„æ¶ˆæ¯éƒ½æ˜¯å±¡è§ä¸é²œçš„ï¼Œå› æ­¤åœ¨çº¿ä¸Šç¯å¢ƒä¸­è®¾ç½®ä¸€ä¸ªæ¯”è¾ƒå¤§çš„å€¼è¿˜æ˜¯æ¯”è¾ƒä¿é™©çš„åšæ³•ã€‚æ¯•ç«Ÿå®ƒåªæ˜¯ä¸€ä¸ªæ ‡å°ºè€Œå·²ï¼Œä»…ä»…è¡¡é‡ Broker èƒ½å¤Ÿå¤„ç†çš„æœ€å¤§æ¶ˆæ¯å¤§å°ï¼Œå³ä½¿è®¾ç½®å¤§ä¸€ç‚¹ä¹Ÿä¸ä¼šè€—è´¹ä»€ä¹ˆç£ç›˜ç©ºé—´çš„ã€‚</li></ul> <h3 id="_5-2-topic-çº§åˆ«é…ç½®"><a href="#_5-2-topic-çº§åˆ«é…ç½®" class="header-anchor">#</a> 5.2. Topic çº§åˆ«é…ç½®</h3> <ul><li><code>retention.ms</code>ï¼šè§„å®šäº†è¯¥ Topic æ¶ˆæ¯è¢«ä¿å­˜çš„æ—¶é•¿ã€‚é»˜è®¤æ˜¯ 7 å¤©ï¼Œå³è¯¥ Topic åªä¿å­˜æœ€è¿‘ 7 å¤©çš„æ¶ˆæ¯ã€‚ä¸€æ—¦è®¾ç½®äº†è¿™ä¸ªå€¼ï¼Œå®ƒä¼šè¦†ç›–æ‰ Broker ç«¯çš„å…¨å±€å‚æ•°å€¼ã€‚</li> <li><code>retention.bytes</code>ï¼šè§„å®šäº†è¦ä¸ºè¯¥ Topic é¢„ç•™å¤šå¤§çš„ç£ç›˜ç©ºé—´ã€‚å’Œå…¨å±€å‚æ•°ä½œç”¨ç›¸ä¼¼ï¼Œè¿™ä¸ªå€¼é€šå¸¸åœ¨å¤šç§Ÿæˆ·çš„ Kafka é›†ç¾¤ä¸­ä¼šæœ‰ç”¨æ­¦ä¹‹åœ°ã€‚å½“å‰é»˜è®¤å€¼æ˜¯ -1ï¼Œè¡¨ç¤ºå¯ä»¥æ— é™ä½¿ç”¨ç£ç›˜ç©ºé—´ã€‚</li></ul> <h3 id="_5-3-æ“ä½œç³»ç»Ÿå‚æ•°"><a href="#_5-3-æ“ä½œç³»ç»Ÿå‚æ•°" class="header-anchor">#</a> 5.3. æ“ä½œç³»ç»Ÿå‚æ•°</h3> <ul><li>æ–‡ä»¶æè¿°ç¬¦é™åˆ¶</li> <li>æ–‡ä»¶ç³»ç»Ÿç±»å‹</li> <li>Swappiness</li> <li>æäº¤æ—¶é—´</li></ul> <p>æ–‡ä»¶æè¿°ç¬¦ç³»ç»Ÿèµ„æºå¹¶ä¸åƒæˆ‘ä»¬æƒ³è±¡çš„é‚£æ ·æ˜‚è´µï¼Œä½ ä¸ç”¨å¤ªæ‹…å¿ƒè°ƒå¤§æ­¤å€¼ä¼šæœ‰ä»€ä¹ˆä¸åˆ©çš„å½±å“ã€‚é€šå¸¸æƒ…å†µä¸‹å°†å®ƒè®¾ç½®æˆä¸€ä¸ªè¶…å¤§çš„å€¼æ˜¯åˆç†çš„åšæ³•ï¼Œæ¯”å¦‚<code>ulimit -n 1000000</code>ã€‚å…¶å®è®¾ç½®è¿™ä¸ªå‚æ•°ä¸€ç‚¹éƒ½ä¸é‡è¦ï¼Œä½†ä¸è®¾ç½®çš„è¯åæœå¾ˆä¸¥é‡ï¼Œæ¯”å¦‚ä½ ä¼šç»å¸¸çœ‹åˆ°â€œToo many open filesâ€çš„é”™è¯¯ã€‚</p> <p>å…¶æ¬¡æ˜¯æ–‡ä»¶ç³»ç»Ÿç±»å‹çš„é€‰æ‹©ã€‚è¿™é‡Œæ‰€è¯´çš„æ–‡ä»¶ç³»ç»ŸæŒ‡çš„æ˜¯å¦‚ ext3ã€ext4 æˆ– XFS è¿™æ ·çš„æ—¥å¿—å‹æ–‡ä»¶ç³»ç»Ÿã€‚æ ¹æ®å®˜ç½‘çš„æµ‹è¯•æŠ¥å‘Šï¼ŒXFS çš„æ€§èƒ½è¦å¼ºäº ext4ï¼Œæ‰€ä»¥ç”Ÿäº§ç¯å¢ƒæœ€å¥½è¿˜æ˜¯ä½¿ç”¨ XFSã€‚å¯¹äº†ï¼Œæœ€è¿‘æœ‰ä¸ª Kafka ä½¿ç”¨ ZFS çš„<a href="https://www.confluent.io/kafka-summit-sf18/kafka-on-zfs" target="_blank" rel="noopener noreferrer">æ•°æ®æŠ¥å‘Š<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ï¼Œè²Œä¼¼æ€§èƒ½æ›´åŠ å¼ºåŠ²ï¼Œæœ‰æ¡ä»¶çš„è¯ä¸å¦¨ä¸€è¯•ã€‚</p> <p>ç¬¬ä¸‰æ˜¯ swap çš„è°ƒä¼˜ã€‚ç½‘ä¸Šå¾ˆå¤šæ–‡ç« éƒ½æåˆ°è®¾ç½®å…¶ä¸º 0ï¼Œå°† swap å®Œå…¨ç¦æ‰ä»¥é˜²æ­¢ Kafka è¿›ç¨‹ä½¿ç”¨ swap ç©ºé—´ã€‚æˆ‘ä¸ªäººåå€’è§‰å¾—è¿˜æ˜¯ä¸è¦è®¾ç½®æˆ 0 æ¯”è¾ƒå¥½ï¼Œæˆ‘ä»¬å¯ä»¥è®¾ç½®æˆä¸€ä¸ªè¾ƒå°çš„å€¼ã€‚ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸ºä¸€æ—¦è®¾ç½®æˆ 0ï¼Œå½“ç‰©ç†å†…å­˜è€—å°½æ—¶ï¼Œæ“ä½œç³»ç»Ÿä¼šè§¦å‘ OOM killer è¿™ä¸ªç»„ä»¶ï¼Œå®ƒä¼šéšæœºæŒ‘é€‰ä¸€ä¸ªè¿›ç¨‹ç„¶å kill æ‰ï¼Œå³æ ¹æœ¬ä¸ç»™ç”¨æˆ·ä»»ä½•çš„é¢„è­¦ã€‚ä½†å¦‚æœè®¾ç½®æˆä¸€ä¸ªæ¯”è¾ƒå°çš„å€¼ï¼Œå½“å¼€å§‹ä½¿ç”¨ swap ç©ºé—´æ—¶ï¼Œä½ è‡³å°‘èƒ½å¤Ÿè§‚æµ‹åˆ° Broker æ€§èƒ½å¼€å§‹å‡ºç°æ€¥å‰§ä¸‹é™ï¼Œä»è€Œç»™ä½ è¿›ä¸€æ­¥è°ƒä¼˜å’Œè¯Šæ–­é—®é¢˜çš„æ—¶é—´ã€‚åŸºäºè¿™ä¸ªè€ƒè™‘ï¼Œæˆ‘ä¸ªäººå»ºè®®å°† swappniess é…ç½®æˆä¸€ä¸ªæ¥è¿‘ 0 ä½†ä¸ä¸º 0 çš„å€¼ï¼Œæ¯”å¦‚ 1ã€‚</p> <p>æœ€åæ˜¯æäº¤æ—¶é—´æˆ–è€…è¯´æ˜¯ Flush è½ç›˜æ—¶é—´ã€‚å‘ Kafka å‘é€æ•°æ®å¹¶ä¸æ˜¯çœŸè¦ç­‰æ•°æ®è¢«å†™å…¥ç£ç›˜æ‰ä¼šè®¤ä¸ºæˆåŠŸï¼Œè€Œæ˜¯åªè¦æ•°æ®è¢«å†™å…¥åˆ°æ“ä½œç³»ç»Ÿçš„é¡µç¼“å­˜ï¼ˆPage Cacheï¼‰ä¸Šå°±å¯ä»¥äº†ï¼Œéšåæ“ä½œç³»ç»Ÿæ ¹æ® LRU ç®—æ³•ä¼šå®šæœŸå°†é¡µç¼“å­˜ä¸Šçš„â€œè„â€æ•°æ®è½ç›˜åˆ°ç‰©ç†ç£ç›˜ä¸Šã€‚è¿™ä¸ªå®šæœŸå°±æ˜¯ç”±æäº¤æ—¶é—´æ¥ç¡®å®šçš„ï¼Œé»˜è®¤æ˜¯ 5 ç§’ã€‚ä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬ä¼šè®¤ä¸ºè¿™ä¸ªæ—¶é—´å¤ªé¢‘ç¹äº†ï¼Œå¯ä»¥é€‚å½“åœ°å¢åŠ æäº¤é—´éš”æ¥é™ä½ç‰©ç†ç£ç›˜çš„å†™æ“ä½œã€‚å½“ç„¶ä½ å¯èƒ½ä¼šæœ‰è¿™æ ·çš„ç–‘é—®ï¼šå¦‚æœåœ¨é¡µç¼“å­˜ä¸­çš„æ•°æ®åœ¨å†™å…¥åˆ°ç£ç›˜å‰æœºå™¨å®•æœºäº†ï¼Œé‚£å²‚ä¸æ˜¯æ•°æ®å°±ä¸¢å¤±äº†ã€‚çš„ç¡®ï¼Œè¿™ç§æƒ…å†µæ•°æ®ç¡®å®å°±ä¸¢å¤±äº†ï¼Œä½†é‰´äº Kafka åœ¨è½¯ä»¶å±‚é¢å·²ç»æä¾›äº†å¤šå‰¯æœ¬çš„å†—ä½™æœºåˆ¶ï¼Œå› æ­¤è¿™é‡Œç¨å¾®æ‹‰å¤§æäº¤é—´éš”å»æ¢å–æ€§èƒ½è¿˜æ˜¯ä¸€ä¸ªåˆç†çš„åšæ³•ã€‚</p> <h2 id="_6-kafka-é›†ç¾¤è§„åˆ’"><a href="#_6-kafka-é›†ç¾¤è§„åˆ’" class="header-anchor">#</a> 6. Kafka é›†ç¾¤è§„åˆ’</h2> <h3 id="_6-1-æ“ä½œç³»ç»Ÿ"><a href="#_6-1-æ“ä½œç³»ç»Ÿ" class="header-anchor">#</a> 6.1. æ“ä½œç³»ç»Ÿ</h3> <p>éƒ¨ç½²ç”Ÿäº§ç¯å¢ƒçš„ Kafkaï¼Œå¼ºçƒˆå»ºè®®æ“ä½œç³»ç»Ÿé€‰ç”¨ Linuxã€‚</p> <p><strong>åœ¨ Linux éƒ¨ç½² Kafka èƒ½å¤Ÿäº«å—åˆ°é›¶æ‹·è´æŠ€æœ¯æ‰€å¸¦æ¥çš„å¿«é€Ÿæ•°æ®ä¼ è¾“ç‰¹æ€§ã€‚</strong></p> <p><strong>Windows å¹³å°ä¸Šéƒ¨ç½² Kafka åªé€‚åˆäºä¸ªäººæµ‹è¯•æˆ–ç”¨äºåŠŸèƒ½éªŒè¯ï¼Œåƒä¸‡ä¸è¦åº”ç”¨äºç”Ÿäº§ç¯å¢ƒã€‚</strong></p> <h3 id="_6-2-ç£ç›˜"><a href="#_6-2-ç£ç›˜" class="header-anchor">#</a> 6.2. ç£ç›˜</h3> <p>Kafka é›†ç¾¤éƒ¨ç½²é€‰æ‹©æ™®é€šçš„æœºæ¢°ç£ç›˜è¿˜æ˜¯å›ºæ€ç¡¬ç›˜ï¼Ÿå‰è€…æˆæœ¬ä½ä¸”å®¹é‡å¤§ï¼Œä½†æ˜“æŸåï¼›åè€…æ€§èƒ½ä¼˜åŠ¿å¤§ï¼Œä¸è¿‡å•ä»·é«˜ã€‚</p> <p>ç»“è®ºæ˜¯ï¼š<strong>ä½¿ç”¨æ™®é€šæœºæ¢°ç¡¬ç›˜å³å¯</strong>ã€‚</p> <p>Kafka é‡‡ç”¨é¡ºåºè¯»å†™æ“ä½œï¼Œä¸€å®šç¨‹åº¦ä¸Šè§„é¿äº†æœºæ¢°ç£ç›˜æœ€å¤§çš„åŠ£åŠ¿ï¼Œå³éšæœºè¯»å†™æ“ä½œæ…¢ã€‚ä»è¿™ä¸€ç‚¹ä¸Šæ¥è¯´ï¼Œä½¿ç”¨ SSD ä¼¼ä¹å¹¶æ²¡æœ‰å¤ªå¤§çš„æ€§èƒ½ä¼˜åŠ¿ï¼Œæ¯•ç«Ÿä»æ€§ä»·æ¯”ä¸Šæ¥è¯´ï¼Œæœºæ¢°ç£ç›˜ç‰©ç¾ä»·å»‰ï¼Œè€Œå®ƒå› æ˜“æŸåè€Œé€ æˆçš„å¯é æ€§å·®ç­‰ç¼ºé™·ï¼Œåˆç”± Kafka åœ¨è½¯ä»¶å±‚é¢æä¾›æœºåˆ¶æ¥ä¿è¯ï¼Œæ•…ä½¿ç”¨æ™®é€šæœºæ¢°ç£ç›˜æ˜¯å¾ˆåˆ’ç®—çš„ã€‚</p> <h3 id="_6-3-å¸¦å®½"><a href="#_6-3-å¸¦å®½" class="header-anchor">#</a> 6.3. å¸¦å®½</h3> <p>å¤§éƒ¨åˆ†å…¬å¸ä½¿ç”¨æ™®é€šçš„ä»¥å¤ªç½‘ç»œï¼Œåƒå…†ç½‘ç»œï¼ˆ1Gbpsï¼‰åº”è¯¥æ˜¯ç½‘ç»œçš„æ ‡å‡†é…ç½®ã€‚</p> <p>é€šå¸¸æƒ…å†µä¸‹ä½ åªèƒ½å‡è®¾ Kafka ä¼šç”¨åˆ° 70% çš„å¸¦å®½èµ„æºï¼Œå› ä¸ºæ€»è¦ä¸ºå…¶ä»–åº”ç”¨æˆ–è¿›ç¨‹ç•™ä¸€äº›èµ„æºã€‚æ­¤å¤–ï¼Œé€šå¸¸è¦å†é¢å¤–é¢„ç•™å‡º 2/3 çš„èµ„æºï¼Œå› ä¸ºä¸èƒ½è®©å¸¦å®½èµ„æºæ€»æ˜¯ä¿æŒåœ¨å³°å€¼ã€‚</p> <p>åŸºäºä»¥ä¸ŠåŸå› ï¼Œä¸€ä¸ª Kafka é›†ç¾¤æ•°é‡çš„å¤§è‡´æ¨ç®—å…¬å¼å¦‚ä¸‹ï¼š</p> <div class="language- extra-class"><pre class="language-text"><code>Kafka æœºå™¨æ•° = å•ä½æ—¶é—´éœ€è¦å¤„ç†çš„æ€»æ•°æ®é‡ / å•æœºæ‰€å ç”¨å¸¦å®½
</code></pre></div><h2 id="_7-å‚è€ƒèµ„æ–™"><a href="#_7-å‚è€ƒèµ„æ–™" class="header-anchor">#</a> 7. å‚è€ƒèµ„æ–™</h2> <ul><li><strong>å®˜æ–¹</strong> <ul><li><a href="http://kafka.apache.org/" target="_blank" rel="noopener noreferrer">Kafka å®˜ç½‘<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://github.com/apache/kafka" target="_blank" rel="noopener noreferrer">Kafka Github<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://kafka.apache.org/documentation/" target="_blank" rel="noopener noreferrer">Kafka å®˜æ–¹æ–‡æ¡£<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li> <li><strong>ä¹¦ç±</strong> <ul><li><a href="https://item.jd.com/12270295.html" target="_blank" rel="noopener noreferrer">ã€ŠKafka æƒå¨æŒ‡å—ã€‹<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li> <li><strong>æ•™ç¨‹</strong> <ul><li><a href="https://github.com/apachecn/kafka-doc-zh" target="_blank" rel="noopener noreferrer">Kafka ä¸­æ–‡æ–‡æ¡£<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://time.geekbang.org/column/intro/100029201" target="_blank" rel="noopener noreferrer">Kafka æ ¸å¿ƒæŠ€æœ¯ä¸å®æˆ˜<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li> <li><strong>æ–‡ç« </strong> <ul><li><a href="https://github.com/lensesio/kafka-cheat-sheet" target="_blank" rel="noopener noreferrer">kafka-cheat-sheet<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/dunwu/bigdata-tutorial/edit/master/docs/kafka/Kafkaè¿ç»´.md" target="_blank" rel="noopener noreferrer">å¸®åŠ©æˆ‘ä»¬æ”¹å–„æ­¤é¡µé¢ï¼</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">ä¸Šæ¬¡æ›´æ–°:</span> <span class="time">10 months ago</span></div></footer> <!----> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/bigdata-tutorial/assets/js/app.3ada26ba.js" defer></script><script src="/bigdata-tutorial/assets/js/4.cda5e0f1.js" defer></script><script src="/bigdata-tutorial/assets/js/45.4a1cf2ae.js" defer></script><script src="/bigdata-tutorial/assets/js/5.9d6e4fe2.js" defer></script>
  </body>
</html>
