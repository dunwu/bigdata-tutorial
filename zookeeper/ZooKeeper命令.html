<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ZooKeeper 命令 | BIGDATA-TUTORIAL</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/bigdata-tutorial/favicon.ico">
    <meta name="description" content="大数据教程">
    
    <link rel="preload" href="/bigdata-tutorial/assets/css/0.styles.eecf7a64.css" as="style"><link rel="preload" href="/bigdata-tutorial/assets/js/app.3ada26ba.js" as="script"><link rel="preload" href="/bigdata-tutorial/assets/js/4.cda5e0f1.js" as="script"><link rel="preload" href="/bigdata-tutorial/assets/js/58.982c2219.js" as="script"><link rel="preload" href="/bigdata-tutorial/assets/js/5.9d6e4fe2.js" as="script"><link rel="prefetch" href="/bigdata-tutorial/assets/js/10.1ab7bd74.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/11.a42f7604.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/12.7dce2ed8.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/13.1b26207d.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/14.a9835374.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/15.90c66596.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/16.e0471453.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/17.2c0565cb.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/18.fabbce00.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/19.c120a108.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/20.5a4f48af.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/21.d3fce730.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/22.00ac574a.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/23.754595c9.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/24.fc9d31a1.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/25.d4313bcb.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/26.604f045b.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/27.22a239b2.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/28.466b9a71.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/29.2783ebfd.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/30.2ff3250e.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/31.2c64e404.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/32.0ab8b31c.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/33.be38d2dc.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/34.811f6626.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/35.9d9f3847.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/36.32bb3f84.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/37.db182f29.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/38.91a9d6f3.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/39.1148f971.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/40.1536c75c.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/41.31725066.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/42.68e59bdd.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/43.9bac72d5.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/44.a2edd3e0.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/45.4a1cf2ae.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/46.d8a80a79.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/47.9621b1a5.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/48.56d4fa14.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/49.d9d143dd.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/50.6e4aa6cd.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/51.55771fda.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/52.ee51188b.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/53.b014e486.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/54.ae66c176.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/55.2ea9bfd9.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/56.ffb4a04b.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/57.bdee2f7e.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/59.c006237e.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/6.3bb0b816.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/60.b27dc3c8.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/7.d55602d2.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/8.89e9ace9.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/9.0c40eb95.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/vendors~flowchart.5998caa6.js"><link rel="prefetch" href="/bigdata-tutorial/assets/js/vendors~notification.943e54fe.js">
    <link rel="stylesheet" href="/bigdata-tutorial/assets/css/0.styles.eecf7a64.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/bigdata-tutorial/" class="home-link router-link-active"><img src="https://raw.githubusercontent.com/dunwu/images/dev/common/dunwu-logo-200.png" alt="BIGDATA-TUTORIAL" class="logo"> <span class="site-name can-hide">BIGDATA-TUTORIAL</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/bigdata-tutorial/hive/" class="nav-link">
  Hive
</a></div><div class="nav-item"><a href="/bigdata-tutorial/hdfs/" class="nav-link">
  Hdfs
</a></div><div class="nav-item"><a href="/bigdata-tutorial/hbase/" class="nav-link">
  Hbase
</a></div><div class="nav-item"><a href="/bigdata-tutorial/zookeeper/" class="nav-link router-link-active">
  ZooKeeper
</a></div><div class="nav-item"><a href="/bigdata-tutorial/kafka/" class="nav-link">
  Kafka
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><span class="title">✨ Java系列</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java" class="mobile-dropdown-title"><span class="title">✨ Java系列</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://dunwu.github.io/java-tutorial/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Java 教程 📚
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://dunwu.github.io/javacore/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JavaCore 教程 📚
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://dunwu.github.io/javatech/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JavaTech 教程 📚
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://dunwu.github.io/spring-tutorial/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Spring 教程 📚
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://dunwu.github.io/spring-boot-tutorial/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Spring Boot 教程 📚
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="https://github.com/dunwu/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  🎯 博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/dunwu/bigdata-tutorial" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/bigdata-tutorial/hive/" class="nav-link">
  Hive
</a></div><div class="nav-item"><a href="/bigdata-tutorial/hdfs/" class="nav-link">
  Hdfs
</a></div><div class="nav-item"><a href="/bigdata-tutorial/hbase/" class="nav-link">
  Hbase
</a></div><div class="nav-item"><a href="/bigdata-tutorial/zookeeper/" class="nav-link router-link-active">
  ZooKeeper
</a></div><div class="nav-item"><a href="/bigdata-tutorial/kafka/" class="nav-link">
  Kafka
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><span class="title">✨ Java系列</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java" class="mobile-dropdown-title"><span class="title">✨ Java系列</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://dunwu.github.io/java-tutorial/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Java 教程 📚
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://dunwu.github.io/javacore/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JavaCore 教程 📚
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://dunwu.github.io/javatech/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JavaTech 教程 📚
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://dunwu.github.io/spring-tutorial/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Spring 教程 📚
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://dunwu.github.io/spring-boot-tutorial/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Spring Boot 教程 📚
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="https://github.com/dunwu/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  🎯 博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/dunwu/bigdata-tutorial" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>ZooKeeper 命令</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/bigdata-tutorial/zookeeper/ZooKeeper%E5%91%BD%E4%BB%A4.html#_1-启动服务和启动命令行" class="sidebar-link">1. 启动服务和启动命令行</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/bigdata-tutorial/zookeeper/ZooKeeper%E5%91%BD%E4%BB%A4.html#_2-查看节点列表" class="sidebar-link">2. 查看节点列表</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/bigdata-tutorial/zookeeper/ZooKeeper%E5%91%BD%E4%BB%A4.html#_2-1-ls-命令" class="sidebar-link">2.1. ls 命令</a></li><li class="sidebar-sub-header"><a href="/bigdata-tutorial/zookeeper/ZooKeeper%E5%91%BD%E4%BB%A4.html#_2-2-ls2-命令" class="sidebar-link">2.2. ls2 命令</a></li></ul></li><li><a href="/bigdata-tutorial/zookeeper/ZooKeeper%E5%91%BD%E4%BB%A4.html#_3-节点的增删改查" class="sidebar-link">3. 节点的增删改查</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/bigdata-tutorial/zookeeper/ZooKeeper%E5%91%BD%E4%BB%A4.html#_3-1-get-命令" class="sidebar-link">3.1. get 命令</a></li><li class="sidebar-sub-header"><a href="/bigdata-tutorial/zookeeper/ZooKeeper%E5%91%BD%E4%BB%A4.html#_3-2-stat-命令" class="sidebar-link">3.2. stat 命令</a></li><li class="sidebar-sub-header"><a href="/bigdata-tutorial/zookeeper/ZooKeeper%E5%91%BD%E4%BB%A4.html#_3-3-create-命令" class="sidebar-link">3.3. create 命令</a></li><li class="sidebar-sub-header"><a href="/bigdata-tutorial/zookeeper/ZooKeeper%E5%91%BD%E4%BB%A4.html#_3-4-set-命令" class="sidebar-link">3.4. set 命令</a></li><li class="sidebar-sub-header"><a href="/bigdata-tutorial/zookeeper/ZooKeeper%E5%91%BD%E4%BB%A4.html#_3-5-delete-命令" class="sidebar-link">3.5. delete 命令</a></li></ul></li><li><a href="/bigdata-tutorial/zookeeper/ZooKeeper%E5%91%BD%E4%BB%A4.html#_4-监听器" class="sidebar-link">4. 监听器</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/bigdata-tutorial/zookeeper/ZooKeeper%E5%91%BD%E4%BB%A4.html#_4-1-get-path" class="sidebar-link">4.1. get path</a></li><li class="sidebar-sub-header"><a href="/bigdata-tutorial/zookeeper/ZooKeeper%E5%91%BD%E4%BB%A4.html#_4-2-stat-path" class="sidebar-link">4.2. stat path</a></li><li class="sidebar-sub-header"><a href="/bigdata-tutorial/zookeeper/ZooKeeper%E5%91%BD%E4%BB%A4.html#_4-3-ls-ls2-path" class="sidebar-link">4.3. ls\ls2 path</a></li></ul></li><li><a href="/bigdata-tutorial/zookeeper/ZooKeeper%E5%91%BD%E4%BB%A4.html#_5-辅助命令" class="sidebar-link">5. 辅助命令</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/bigdata-tutorial/zookeeper/ZooKeeper%E5%91%BD%E4%BB%A4.html#_6-zookeeper-四字命令" class="sidebar-link">6. zookeeper 四字命令</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/bigdata-tutorial/zookeeper/ZooKeeper%E5%91%BD%E4%BB%A4.html#_7-参考资料" class="sidebar-link">7. 参考资料</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="zookeeper-命令"><a href="#zookeeper-命令" class="header-anchor">#</a> ZooKeeper 命令</h1> <blockquote><p>ZooKeeper 命令用于在 ZooKeeper 服务上执行操作。</p></blockquote> <ul><li><a href="#1-%E5%90%AF%E5%8A%A8%E6%9C%8D%E5%8A%A1%E5%92%8C%E5%90%AF%E5%8A%A8%E5%91%BD%E4%BB%A4%E8%A1%8C">1. 启动服务和启动命令行</a></li> <li><a href="#2-%E6%9F%A5%E7%9C%8B%E8%8A%82%E7%82%B9%E5%88%97%E8%A1%A8">2. 查看节点列表</a> <ul><li><a href="#21-ls-%E5%91%BD%E4%BB%A4">2.1. <code>ls</code> 命令</a></li> <li><a href="#22-ls2-%E5%91%BD%E4%BB%A4">2.2. <code>ls2</code> 命令</a></li></ul></li> <li><a href="#3-%E8%8A%82%E7%82%B9%E7%9A%84%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5">3. 节点的增删改查</a> <ul><li><a href="#31-get-%E5%91%BD%E4%BB%A4">3.1. <code>get</code> 命令</a></li> <li><a href="#32-stat-%E5%91%BD%E4%BB%A4">3.2. <code>stat</code> 命令</a></li> <li><a href="#33-create-%E5%91%BD%E4%BB%A4">3.3. <code>create</code> 命令</a></li> <li><a href="#34-set-%E5%91%BD%E4%BB%A4">3.4. <code>set</code> 命令</a></li> <li><a href="#35-delete-%E5%91%BD%E4%BB%A4">3.5. <code>delete</code> 命令</a></li></ul></li> <li><a href="#4-%E7%9B%91%E5%90%AC%E5%99%A8">4. 监听器</a> <ul><li><a href="#41-get-path">4.1. get path</a></li> <li><a href="#42-stat-path">4.2. stat path</a></li> <li><a href="#43-ls%5Cls2-path">4.3. ls\ls2 path</a></li></ul></li> <li><a href="#5-%E8%BE%85%E5%8A%A9%E5%91%BD%E4%BB%A4">5. 辅助命令</a></li> <li><a href="#6-zookeeper-%E5%9B%9B%E5%AD%97%E5%91%BD%E4%BB%A4">6. zookeeper 四字命令</a></li> <li><a href="#7-%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99">7. 参考资料</a></li></ul> <h2 id="_1-启动服务和启动命令行"><a href="#_1-启动服务和启动命令行" class="header-anchor">#</a> 1. 启动服务和启动命令行</h2> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 启动服务</span>
bin/zkServer.sh start

<span class="token comment"># 启动命令行，不指定服务地址则默认连接到localhost:2181</span>
bin/zkCli.sh -server hadoop001:2181
</code></pre></div><h2 id="_2-查看节点列表"><a href="#_2-查看节点列表" class="header-anchor">#</a> 2. 查看节点列表</h2> <h3 id="_2-1-ls-命令"><a href="#_2-1-ls-命令" class="header-anchor">#</a> 2.1. <code>ls</code> 命令</h3> <p><code>ls</code> 命令用于查看某个路径下目录列表。</p> <p>【语法】</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">ls</span> path
</code></pre></div><blockquote><p>说明：</p> <ul><li><strong>path</strong>：代表路径。</li></ul></blockquote> <p>【示例】</p> <div class="language- extra-class"><pre class="language-text"><code>[zk: localhost:2181(CONNECTED) 0] ls /
[cluster, controller_epoch, brokers, storm, zookeeper, admin,  ...]
</code></pre></div><h3 id="_2-2-ls2-命令"><a href="#_2-2-ls2-命令" class="header-anchor">#</a> 2.2. <code>ls2</code> 命令</h3> <p><code>ls2</code> 命令用于查看某个路径下目录列表，它比 ls 命令列出更多的详细信息。</p> <p>【语法】</p> <div class="language-bash extra-class"><pre class="language-bash"><code>ls2 path
</code></pre></div><blockquote><p>说明：</p> <ul><li><strong>path</strong>：代表路径。</li></ul></blockquote> <p>【示例】</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token punctuation">[</span>zk: localhost:2181<span class="token punctuation">(</span>CONNECTED<span class="token punctuation">)</span> <span class="token number">1</span><span class="token punctuation">]</span> ls2 /
<span class="token punctuation">[</span>cluster, controller_epoch, brokers, storm, zookeeper, admin, <span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">]</span>
cZxid <span class="token operator">=</span> 0x0
ctime <span class="token operator">=</span> Thu Jan 01 08:00:00 CST <span class="token number">1970</span>
mZxid <span class="token operator">=</span> 0x0
mtime <span class="token operator">=</span> Thu Jan 01 08:00:00 CST <span class="token number">1970</span>
pZxid <span class="token operator">=</span> 0x130
cversion <span class="token operator">=</span> <span class="token number">19</span>
dataVersion <span class="token operator">=</span> <span class="token number">0</span>
aclVersion <span class="token operator">=</span> <span class="token number">0</span>
ephemeralOwner <span class="token operator">=</span> 0x0
dataLength <span class="token operator">=</span> <span class="token number">0</span>
numChildren <span class="token operator">=</span> <span class="token number">11</span>
</code></pre></div><h2 id="_3-节点的增删改查"><a href="#_3-节点的增删改查" class="header-anchor">#</a> 3. 节点的增删改查</h2> <h3 id="_3-1-get-命令"><a href="#_3-1-get-命令" class="header-anchor">#</a> 3.1. <code>get</code> 命令</h3> <p><code>get</code> 命令用于获取节点数据和状态信息。</p> <p>【语法】</p> <div class="language- extra-class"><pre class="language-text"><code>get path [watch]
</code></pre></div><blockquote><p>说明：</p> <ul><li><strong>path</strong>：代表路径。</li> <li><strong>[watch]</strong>：对节点进行事件监听。</li></ul></blockquote> <p>【示例】</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token punctuation">[</span>zk: localhost:2181<span class="token punctuation">(</span>CONNECTED<span class="token punctuation">)</span> <span class="token number">31</span><span class="token punctuation">]</span> get /hadoop
<span class="token number">123456</span>   <span class="token comment">#节点数据</span>
cZxid <span class="token operator">=</span> 0x14b
ctime <span class="token operator">=</span> Fri May <span class="token number">24</span> <span class="token number">17</span>:03:06 CST <span class="token number">2019</span>
mZxid <span class="token operator">=</span> 0x14b
mtime <span class="token operator">=</span> Fri May <span class="token number">24</span> <span class="token number">17</span>:03:06 CST <span class="token number">2019</span>
pZxid <span class="token operator">=</span> 0x14b
cversion <span class="token operator">=</span> <span class="token number">0</span>
dataVersion <span class="token operator">=</span> <span class="token number">0</span>
aclVersion <span class="token operator">=</span> <span class="token number">0</span>
ephemeralOwner <span class="token operator">=</span> 0x0
dataLength <span class="token operator">=</span> <span class="token number">6</span>
numChildren <span class="token operator">=</span> <span class="token number">0</span>
</code></pre></div><blockquote><p>说明：</p> <p>节点各个属性如下表。其中一个重要的概念是 Zxid(ZooKeeper Transaction Id)，ZooKeeper 节点的每一次更改都具有唯一的 Zxid，如果 Zxid1 小于 Zxid2，则 Zxid1 的更改发生在 Zxid2 更改之前。</p> <table><thead><tr><th><strong>状态属性</strong></th> <th><strong>说明</strong></th></tr></thead> <tbody><tr><td>cZxid</td> <td>数据节点创建时的事务 ID</td></tr> <tr><td>ctime</td> <td>数据节点创建时的时间</td></tr> <tr><td>mZxid</td> <td>数据节点最后一次更新时的事务 ID</td></tr> <tr><td>mtime</td> <td>数据节点最后一次更新时的时间</td></tr> <tr><td>pZxid</td> <td>数据节点的子节点最后一次被修改时的事务 ID</td></tr> <tr><td>cversion</td> <td>子节点的更改次数</td></tr> <tr><td>dataVersion</td> <td>节点数据的更改次数</td></tr> <tr><td>aclVersion</td> <td>节点的 ACL 的更改次数</td></tr> <tr><td>ephemeralOwner</td> <td>如果节点是临时节点，则表示创建该节点的会话的 SessionID；如果节点是持久节点，则该属性值为 0</td></tr> <tr><td>dataLength</td> <td>数据内容的长度</td></tr> <tr><td>numChildren</td> <td>数据节点当前的子节点个数</td></tr></tbody></table></blockquote> <h3 id="_3-2-stat-命令"><a href="#_3-2-stat-命令" class="header-anchor">#</a> 3.2. <code>stat</code> 命令</h3> <p><code>stat</code> 命令用于查看节点状态信息。它的返回值和 <code>get</code> 命令类似，但不会返回节点数据。</p> <p>【语法】</p> <div class="language- extra-class"><pre class="language-text"><code>stat path [watch]
</code></pre></div><ul><li><strong>path</strong>：代表路径。</li> <li><strong>[watch]</strong>：对节点进行事件监听。</li></ul> <p>【示例】</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token punctuation">[</span>zk: localhost:2181<span class="token punctuation">(</span>CONNECTED<span class="token punctuation">)</span> <span class="token number">32</span><span class="token punctuation">]</span> <span class="token function">stat</span> /hadoop
cZxid <span class="token operator">=</span> 0x14b
ctime <span class="token operator">=</span> Fri May <span class="token number">24</span> <span class="token number">17</span>:03:06 CST <span class="token number">2019</span>
mZxid <span class="token operator">=</span> 0x14b
mtime <span class="token operator">=</span> Fri May <span class="token number">24</span> <span class="token number">17</span>:03:06 CST <span class="token number">2019</span>
pZxid <span class="token operator">=</span> 0x14b
cversion <span class="token operator">=</span> <span class="token number">0</span>
dataVersion <span class="token operator">=</span> <span class="token number">0</span>
aclVersion <span class="token operator">=</span> <span class="token number">0</span>
ephemeralOwner <span class="token operator">=</span> 0x0
dataLength <span class="token operator">=</span> <span class="token number">6</span>
numChildren <span class="token operator">=</span> <span class="token number">0</span>
</code></pre></div><h3 id="_3-3-create-命令"><a href="#_3-3-create-命令" class="header-anchor">#</a> 3.3. <code>create</code> 命令</h3> <p><code>create</code> 命令用于创建节点并赋值。</p> <p>【语法】</p> <div class="language-bash extra-class"><pre class="language-bash"><code>create <span class="token punctuation">[</span>-s<span class="token punctuation">]</span> <span class="token punctuation">[</span>-e<span class="token punctuation">]</span> path data acl
</code></pre></div><blockquote><p>说明：</p> <ul><li><strong>[-s][-e]</strong>：-s 和 -e 都是可选的，-s 代表顺序节点，-e 代表临时节点，注意其中 -s 和 -e 可以同时使用的，并且临时节点不能再创建子节点。
<ul><li>默认情况下，所有 znode 都是持久的。</li> <li>顺序节点保证 znode 路径将是唯一的。</li> <li>临时节点会在会话过期或客户端断开连接时被自动删除。</li></ul></li> <li><strong>path</strong>：指定要创建节点的路径，比如 <strong>/hadoop</strong>。</li> <li><strong>data</strong>：要在此节点存储的数据。</li> <li><strong>acl</strong>：访问权限相关，默认是 world，相当于全世界都能访问。</li></ul></blockquote> <p>【示例】创建持久节点</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token punctuation">[</span>zk: localhost:2181<span class="token punctuation">(</span>CONNECTED<span class="token punctuation">)</span> <span class="token number">4</span><span class="token punctuation">]</span> create /hadoop <span class="token number">123456</span>
Created /hadoop
</code></pre></div><p>【示例】创建有序节点，此时创建的节点名为指定节点名 + 自增序号：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token punctuation">[</span>zk: localhost:2181<span class="token punctuation">(</span>CONNECTED<span class="token punctuation">)</span> <span class="token number">23</span><span class="token punctuation">]</span> create -s /a  <span class="token string">&quot;aaa&quot;</span>
Created /a0000000022
<span class="token punctuation">[</span>zk: localhost:2181<span class="token punctuation">(</span>CONNECTED<span class="token punctuation">)</span> <span class="token number">24</span><span class="token punctuation">]</span> create -s /b  <span class="token string">&quot;bbb&quot;</span>
Created /b0000000023
<span class="token punctuation">[</span>zk: localhost:2181<span class="token punctuation">(</span>CONNECTED<span class="token punctuation">)</span> <span class="token number">25</span><span class="token punctuation">]</span> create -s /c  <span class="token string">&quot;ccc&quot;</span>
Created /c0000000024
</code></pre></div><p>【示例】创建临时节点：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token punctuation">[</span>zk: localhost:2181<span class="token punctuation">(</span>CONNECTED<span class="token punctuation">)</span> <span class="token number">26</span><span class="token punctuation">]</span> create -e /tmp  <span class="token string">&quot;tmp&quot;</span>
Created /tmp
</code></pre></div><h3 id="_3-4-set-命令"><a href="#_3-4-set-命令" class="header-anchor">#</a> 3.4. <code>set</code> 命令</h3> <p><code>set</code> 命令用于修改节点存储的数据。</p> <p>【语法】</p> <div class="language- extra-class"><pre class="language-text"><code>set path data [version]
</code></pre></div><blockquote><p>说明：</p> <ul><li><strong>path</strong>：节点路径。</li> <li><strong>data</strong>：需要存储的数据。</li> <li><strong>[version]</strong>：可选项，版本号(可用作乐观锁)。</li></ul></blockquote> <p>【示例】</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token punctuation">[</span>zk: localhost:2181<span class="token punctuation">(</span>CONNECTED<span class="token punctuation">)</span> <span class="token number">33</span><span class="token punctuation">]</span> <span class="token builtin class-name">set</span> /hadoop <span class="token number">345</span>
cZxid <span class="token operator">=</span> 0x14b
ctime <span class="token operator">=</span> Fri May <span class="token number">24</span> <span class="token number">17</span>:03:06 CST <span class="token number">2019</span>
mZxid <span class="token operator">=</span> 0x14c
mtime <span class="token operator">=</span> Fri May <span class="token number">24</span> <span class="token number">17</span>:13:05 CST <span class="token number">2019</span>
pZxid <span class="token operator">=</span> 0x14b
cversion <span class="token operator">=</span> <span class="token number">0</span>
dataVersion <span class="token operator">=</span> <span class="token number">1</span>  <span class="token comment"># 注意更改后此时版本号为 1，默认创建时为 0</span>
aclVersion <span class="token operator">=</span> <span class="token number">0</span>
ephemeralOwner <span class="token operator">=</span> 0x0
dataLength <span class="token operator">=</span> <span class="token number">3</span>
numChildren <span class="token operator">=</span> <span class="token number">0</span>
</code></pre></div><p>也可以基于版本号进行更改，此时类似于乐观锁机制，当你传入的数据版本号 (dataVersion) 和当前节点的数据版本号不符合时，zookeeper 会拒绝本次修改：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token punctuation">[</span>zk: localhost:2181<span class="token punctuation">(</span>CONNECTED<span class="token punctuation">)</span> <span class="token number">34</span><span class="token punctuation">]</span> <span class="token builtin class-name">set</span> /hadoop <span class="token number">678</span> <span class="token number">0</span>
version No is not valid <span class="token builtin class-name">:</span> /hadoop    <span class="token comment">#无效的版本号</span>
</code></pre></div><h3 id="_3-5-delete-命令"><a href="#_3-5-delete-命令" class="header-anchor">#</a> 3.5. <code>delete</code> 命令</h3> <p><code>delete</code> 命令用于删除某节点。</p> <p>【语法】</p> <div class="language- extra-class"><pre class="language-text"><code>delete path [version]
</code></pre></div><blockquote><p>说明：</p> <ul><li><strong>path</strong>：节点路径。</li> <li><strong>[version]</strong>：可选项，版本号（同 set 命令）。和更新节点数据一样，也可以传入版本号，当你传入的数据版本号 (dataVersion) 和当前节点的数据版本号不符合时，zookeeper 不会执行删除操作。</li></ul></blockquote> <p>【示例】</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token punctuation">[</span>zk: localhost:2181<span class="token punctuation">(</span>CONNECTED<span class="token punctuation">)</span> <span class="token number">36</span><span class="token punctuation">]</span> delete /hadoop <span class="token number">0</span>
version No is not valid <span class="token builtin class-name">:</span> /hadoop   <span class="token comment">#无效的版本号</span>
<span class="token punctuation">[</span>zk: localhost:2181<span class="token punctuation">(</span>CONNECTED<span class="token punctuation">)</span> <span class="token number">37</span><span class="token punctuation">]</span> delete /hadoop <span class="token number">1</span>
<span class="token punctuation">[</span>zk: localhost:2181<span class="token punctuation">(</span>CONNECTED<span class="token punctuation">)</span> <span class="token number">38</span><span class="token punctuation">]</span>
</code></pre></div><p><code>delete</code> 命令不能删除带有子节点的节点。如果想要删除节点及其子节点，可以使用 <code>deleteall path</code></p> <h2 id="_4-监听器"><a href="#_4-监听器" class="header-anchor">#</a> 4. 监听器</h2> <p>针对每个节点的操作，都会有一个监听者（watcher）。</p> <ul><li>当监听的某个对象（znode）发生了变化，则触发监听事件。</li> <li>zookeeper 中的监听事件是一次性的，触发后立即销毁。</li> <li>父节点，子节点的增删改都能够触发其监听者（watcher）</li> <li>针对不同类型的操作，触发的 watcher 事件也不同：
<ul><li>父节点 Watcher 事件
<ul><li>创建父节点触发：NodeCreated</li> <li>修改节点数据触发：NodeDatachanged</li> <li>删除节点数据触发：NodeDeleted</li></ul></li> <li>子节点 Watcher 事件
<ul><li>创建子节点触发：NodeChildrenChanged</li> <li>删除子节点触发：NodeChildrenChanged</li> <li>修改子节点不触发事件</li></ul></li></ul></li></ul> <h3 id="_4-1-get-path"><a href="#_4-1-get-path" class="header-anchor">#</a> 4.1. get path</h3> <p>使用 <code>get path -w</code> 注册的监听器能够在节点内容发生改变的时候，向客户端发出通知。需要注意的是 zookeeper 的触发器是一次性的 (One-time trigger)，即触发一次后就会立即失效。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token punctuation">[</span>zk: localhost:2181<span class="token punctuation">(</span>CONNECTED<span class="token punctuation">)</span> <span class="token number">4</span><span class="token punctuation">]</span> get /hadoop -w
<span class="token punctuation">[</span>zk: localhost:2181<span class="token punctuation">(</span>CONNECTED<span class="token punctuation">)</span> <span class="token number">5</span><span class="token punctuation">]</span> <span class="token builtin class-name">set</span> /hadoop <span class="token number">45678</span>
WATCHER::
WatchedEvent state:SyncConnected type:NodeDataChanged path:/hadoop  <span class="token comment">#节点值改变</span>
</code></pre></div><blockquote><p>get path [watch] 在当前版本已废弃</p></blockquote> <h3 id="_4-2-stat-path"><a href="#_4-2-stat-path" class="header-anchor">#</a> 4.2. stat path</h3> <p>使用 <code>stat path -w</code> 注册的监听器能够在节点状态发生改变的时候，向客户端发出通知。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token punctuation">[</span>zk: localhost:2181<span class="token punctuation">(</span>CONNECTED<span class="token punctuation">)</span> <span class="token number">7</span><span class="token punctuation">]</span> <span class="token function">stat</span> path -w
<span class="token punctuation">[</span>zk: localhost:2181<span class="token punctuation">(</span>CONNECTED<span class="token punctuation">)</span> <span class="token number">8</span><span class="token punctuation">]</span> <span class="token builtin class-name">set</span> /hadoop <span class="token number">112233</span>
WATCHER::
WatchedEvent state:SyncConnected type:NodeDataChanged path:/hadoop  <span class="token comment">#节点值改变</span>
</code></pre></div><blockquote><p>stat path [watch] 在当前版本已废弃</p></blockquote> <h3 id="_4-3-ls-ls2-path"><a href="#_4-3-ls-ls2-path" class="header-anchor">#</a> 4.3. ls\ls2 path</h3> <p>使用 <code>ls path -w</code> 或 <code>ls2 path -w</code> 注册的监听器能够监听该节点下所有<strong>子节点</strong>的增加和删除操作。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token punctuation">[</span>zk: localhost:2181<span class="token punctuation">(</span>CONNECTED<span class="token punctuation">)</span> <span class="token number">9</span><span class="token punctuation">]</span> <span class="token function">ls</span> /hadoop -w
<span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span>zk: localhost:2181<span class="token punctuation">(</span>CONNECTED<span class="token punctuation">)</span> <span class="token number">10</span><span class="token punctuation">]</span> create  /hadoop/yarn <span class="token string">&quot;aaa&quot;</span>
WATCHER::
WatchedEvent state:SyncConnected type:NodeChildrenChanged path:/hadoop
</code></pre></div><blockquote><p>ls path [watch] 和 ls2 path [watch] 在当前版本已废弃</p></blockquote> <h2 id="_5-辅助命令"><a href="#_5-辅助命令" class="header-anchor">#</a> 5. 辅助命令</h2> <p>使用 <code>help</code> 可以查看所有命令帮助信息。</p> <p>使用 <code>history</code> 可以查看最近 10 条历史记录。</p> <h2 id="_6-zookeeper-四字命令"><a href="#_6-zookeeper-四字命令" class="header-anchor">#</a> 6. zookeeper 四字命令</h2> <table><thead><tr><th>命令</th> <th>功能描述</th></tr></thead> <tbody><tr><td>conf</td> <td>打印服务配置的详细信息。</td></tr> <tr><td>cons</td> <td>列出连接到此服务器的所有客户端的完整连接/会话详细信息。包括接收/发送的数据包数量，会话 ID，操作延迟，上次执行的操作等信息。</td></tr> <tr><td>dump</td> <td>列出未完成的会话和临时节点。这只适用于 Leader 节点。</td></tr> <tr><td>envi</td> <td>打印服务环境的详细信息。</td></tr> <tr><td>ruok</td> <td>测试服务是否处于正确状态。如果正确则返回“imok”，否则不做任何相应。</td></tr> <tr><td>stat</td> <td>列出服务器和连接客户端的简要详细信息。</td></tr> <tr><td>wchs</td> <td>列出所有 watch 的简单信息。</td></tr> <tr><td>wchc</td> <td>按会话列出服务器 watch 的详细信息。</td></tr> <tr><td>wchp</td> <td>按路径列出服务器 watch 的详细信息。</td></tr></tbody></table> <blockquote><p>更多四字命令可以参阅官方文档：<a href="https://zookeeper.apache.org/doc/current/zookeeperAdmin.html" target="_blank" rel="noopener noreferrer">https://zookeeper.apache.org/doc/current/zookeeperAdmin.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <p>使用前需要使用 <code>yum install nc</code> 安装 nc 命令，使用示例如下：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token punctuation">[</span>root@hadoop001 bin<span class="token punctuation">]</span><span class="token comment"># echo stat | nc localhost 2181</span>
Zookeeper version: <span class="token number">3.4</span>.13-2d71af4dbe22557fda74f9a9b4309b15a7487f03,
built on 06/29/2018 04:05 GMT
Clients:
 /0:0:0:0:0:0:0:1:50584<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">(</span>queued<span class="token operator">=</span><span class="token number">0</span>,recved<span class="token operator">=</span><span class="token number">371</span>,sent<span class="token operator">=</span><span class="token number">371</span><span class="token punctuation">)</span>
 /0:0:0:0:0:0:0:1:50656<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">(</span>queued<span class="token operator">=</span><span class="token number">0</span>,recved<span class="token operator">=</span><span class="token number">1</span>,sent<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
Latency min/avg/max: <span class="token number">0</span>/0/19
Received: <span class="token number">372</span>
Sent: <span class="token number">371</span>
Connections: <span class="token number">2</span>
Outstanding: <span class="token number">0</span>
Zxid: 0x150
Mode: standalone
Node count: <span class="token number">167</span>
</code></pre></div><h2 id="_7-参考资料"><a href="#_7-参考资料" class="header-anchor">#</a> 7. 参考资料</h2> <ul><li><a href="https://www.runoob.com/w3cnote/zookeeper-bs-command.html" target="_blank" rel="noopener noreferrer">Zookeeper 客户端基础命令使用<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/dunwu/bigdata-tutorial/edit/master/docs/zookeeper/ZooKeeper命令.md" target="_blank" rel="noopener noreferrer">帮助我们改善此页面！</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">3 days ago</span></div></footer> <!----> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/bigdata-tutorial/assets/js/app.3ada26ba.js" defer></script><script src="/bigdata-tutorial/assets/js/4.cda5e0f1.js" defer></script><script src="/bigdata-tutorial/assets/js/58.982c2219.js" defer></script><script src="/bigdata-tutorial/assets/js/5.9d6e4fe2.js" defer></script>
  </body>
</html>
